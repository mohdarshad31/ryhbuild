(this.webpackJsonpResearchYourHealth=this.webpackJsonpResearchYourHealth||[]).push([[16],{1115:function(e,t,a){},1205:function(e,t,a){"use strict";a.r(t);var n=a(39),o=a(40),r=a(72),i=a(70),s=a(69),l=a(0),c=a.n(l),u=a(336),d=a(337),m=a(314),p=a(315),f=a(514),g=a(330),h=a(318),v=a(319),y=a(322),b=a(634),E=a(1150),S=a(361),_=a(513),w=a(829),O=a(624),I=a(303),P=(a(305),a(47)),A=a(327),C=a(421),N=a(298),k=a(309),L=a(306),j=a(320),F=a.n(j),x=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={buttonProcessing:!1,rowIndex:"",dataTableItem:[]},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"editEmployeeItem",value:function(e){this.props.editEmployeeAction(e)}},{key:"deleteEmployeeItem",value:function(e){this.props.deleteEmployeeAction(e)}},{key:"render",value:function(){var e,t=this,a=[],n=Object(L.a)(this.props.data.entries());try{for(n.s();!(e=n.n()).done;){var o=Object(k.a)(e.value,2),r=o[0],i=o[1];console.log(r);var s={organizationName:i.organizationName,firstName:"".concat(i.firstName," ").concat(i.lastName),email:i.email,roleName:i.roleName||" ",phoneNumber:i.phoneNumber||" ",address:i.address||" ",city:i.city||" ",state:i.state||" ",country:i.country||" ",status:i.status?"Active":"Inactive",action:""};a.push(s)}}catch(d){n.e(d)}finally{n.f()}var l=[{label:"Employee Name",name:"firstName"},{label:"Organization Name",name:"organizationName"},{label:"Email",name:"email"},{label:"Phone Number",name:"phoneNumber"},{label:"Status",name:"status"},{label:"Action",name:"action",options:{filter:!0,customBodyRender:function(e,a,n){var o=a.rowIndex;return c.a.createElement("p",null,c.a.createElement("button",{title:"Edit Employee",className:"btn-edit",disabled:t.state.buttonProcessing,onClick:function(){return t.editEmployeeItem(o)}},c.a.createElement("i",{className:"fa fa-pencil"})," "),c.a.createElement("button",{title:"Delete Employee",className:"btn-delete",disabled:t.state.buttonProcessing,onClick:function(){window.confirm("Are you sure you wish to delete this employee?")&&t.deleteEmployeeItem(o)}},c.a.createElement("i",{className:"fa fa-trash"})))}}}],u={search:!1,viewColumns:!1,filter:!1,searchOpen:!1,print:!1,download:!1,responsive:"stacked",selectableRows:"none",textLabels:{body:{noMatch:this.props.dataTableLoadingStatus?"Processing........":"",toolTip:"Sort",columnHeaderTooltip:function(e){return"Sort for ".concat(e.label)}}},fixedHeaderOptions:{xAxis:!1,yAxis:!1}};return c.a.createElement(F.a,{data:a,columns:l,options:u})}}]),a}(l.Component),z=(a(1115),function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).changeHandler=function(e){var t=e.target.name,a=e.target.value,n=o.state.formField;n[t]=a,o.setState({formField:n},(function(){o.validateField(t,a)}))},o.changeFilterHandler=function(e){var t=e.target.name,a=e.target.value,n=o.state.filterItem;n[t]=a,o.setState({filterItem:n})},o.toggle=function(){o.setState({modal:!o.state.modal,rowIndex:-1,formValid:!1,formProccessing:!1,formField:{email:"",first_name:"",last_name:"",phoneNumber:"",address:"",city:"",state:"",country:"",postalCode:"",role:""},formErrors:{email:"",employee_name:"",role:"",error:""}})},o.state={modal:!1,EmployeeList:[],organizationList:[],loading:!0,formProccessing:!1,rowIndex:-1,formField:{organizationId:"",email:"",first_name:"",last_name:"",phoneNumber:"",address:"",city:"",state:"",country:"",postalCode:"",role:"",status:""},formErrors:{email:"",employee_name:"",role:"",error:""},formValid:!1,filterItem:{filter_organization_id:"",country:"",state:"",custom_search:""}},o.handleEditEmployee=o.handleEditEmployee.bind(Object(r.a)(o)),o.submitHandler=o.submitHandler.bind(Object(r.a)(o)),o.handleDeleteEmployee=o.handleDeleteEmployee.bind(Object(r.a)(o)),o.filterEmployeeList=o.filterEmployeeList.bind(Object(r.a)(o)),o.resetSearchFilter=o.resetSearchFilter.bind(Object(r.a)(o)),o.setLatitudeLongitude=o.setLatitudeLongitude.bind(Object(r.a)(o)),o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params;if(void 0!==e.organizationId){var t=this.state.filterItem;t.filter_organization_id=e.organizationId,this.setState({filterItem:t})}this.EmployeeList(this.state.filterItem),this.organizationList()}},{key:"setLatitudeLongitude",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",i=this.state.formField;i.state=n,i.latitude=t.latitude,i.longitude=t.longitude,i.country=o,i.city=a,i.postalCode=r,i.address=e,this.setState({formField:i})}},{key:"EmployeeList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a="?listItem=all";void 0!==t.filter_organization_id&&""!==t.filter_organization_id&&(a+=""!==a?"&organizationId="+t.filter_organization_id:"?organizationId="+t.filter_organization_id),void 0!==t.country&&""!==t.country&&(a+=""!==a?"&country="+t.country:"?country="+t.country),void 0!==t.state&&""!==t.state&&(a+=""!==a?"&state="+t.state:"?state="+t.state),void 0!==t.custom_search&&""!==t.custom_search&&(a+=""!==a?"&keyword="+t.custom_search:"?keyword="+t.custom_search),this.setState({loading:!0},(function(){P.a.getAPIWithAccessToken("employee"+a).then((function(t){if(void 0===t.data.data||!t.data.status)return e.setState({loading:!1}),void I.b.error(t.data.message);e.setState({loading:!1,EmployeeList:t.data.data})})).catch((function(t){void 0!==t.response&&401===t.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),I.b.error(t.message))}))}))}},{key:"organizationList",value:function(){var e=this;P.a.getAPIWithAccessToken("organization").then((function(t){if(void 0===t.data.data||!t.data.status)return e.setState({loading:!1}),void I.b.error(t.data.message);e.setState({loading:!1,organizationList:t.data.data})})).catch((function(t){void 0!==t.response&&401===t.response.status?(localStorage.clear(),e.props.history.push("/login")):e.setState({loading:!1})}))}},{key:"filterEmployeeList",value:function(){var e=this.state.filterItem;this.EmployeeList(e)}},{key:"submitHandler",value:function(e){var t=this;e.preventDefault(),e.target.className+=" was-validated",this.setState({formProccessing:!0},(function(){var e=t.state.formField,a={email:e.email,firstName:e.first_name,lastName:e.last_name,phoneNumber:e.phoneNumber,address:e.address,roleName:e.role,city:e.city,latitude:e.latitude,longitude:e.longitude,state:e.state,country:e.country,postalCode:e.postalCode,employeeName:e.first_name,organizationAuthId:e.organizationId,status:""===e.status||"Active"===e.status},n=t.state.rowIndex;if(n>-1){var o=t.state.EmployeeList[n];P.a.putAPIWithAccessToken("employee/"+o.profileId,a).then((function(e){if(void 0===e.data.data||!e.data.status)return t.setState({formProccessing:!1}),void I.b.error(e.data.message);t.setState({modal:!1,formProccessing:!1}),I.b.success(e.data.message),t.EmployeeList(t.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),t.props.history.push("/login")):t.setState({formProccessing:!1}),I.b.error(e.message)}))}else P.a.postAPIWithAccessToken("employee",a).then((function(e){if(void 0===e.data.data||!e.data.status)return t.setState({formProccessing:!1}),void I.b.error(e.data.message);t.setState({modal:!1}),I.b.success(e.data.message),t.EmployeeList(t.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),t.props.history.push("/login")):t.setState({formProccessing:!1}),I.b.error(e.message)}))}))}},{key:"validateField",value:function(e,t){var a=this.state.formErrors;switch(a.error="",e){case"email":var n=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);a.email=""!==t?n.test(t)?"":" invalid format":" is required";break;case"first_name":a.employee_name=""!==t?"":" is required"}this.setState({formErrors:a},this.validateForm)}},{key:"validateForm",value:function(){var e=this.state.formErrors,t=this.state.formField;this.setState({formValid:""===e.email&&""===e.employee_name&&""!==t.first_name&&""!==t.email})}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"handleEditEmployee",value:function(e){var t=this.state.EmployeeList[e],a=t.status?"Active":"Inactive",n={organizationId:t.organizationAuthId,email:t.email,first_name:t.firstName,last_name:t.lastName,phoneNumber:t.phoneNumber,address:t.address,city:t.city,state:t.state,country:t.country,postalCode:t.postalCode,role:t.roleName,status:a};this.setState({rowIndex:e,formField:n,formProccessing:!1,modal:!0,formValid:!0})}},{key:"handleDeleteEmployee",value:function(e){var t=this,a=this.state.EmployeeList[e];this.setState({loading:!0},(function(){P.a.deleteAPIWithAccessToken("employee",{employeeId:a.profileId}).then((function(e){if(void 0===e.data.data||!e.data.status)return t.setState({loading:!1}),void I.b.error(e.data.message);t.setState({modal:!1,loading:!1}),I.b.success(e.data.message),t.EmployeeList()})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),t.props.history.push("/login")):t.setState({loading:!1}),I.b.error(e.message)}))}))}},{key:"selectCountry",value:function(e){var t=this.state.formField;t.country=e,this.setState({formField:t})}},{key:"selectRegion",value:function(e){var t=this.state.formField;t.state=e,this.setState({formField:t})}},{key:"selectFilterCountry",value:function(e){var t=this.state.filterItem;t.country=e,this.setState({filterItem:t})}},{key:"selectFilterRegion",value:function(e){var t=this.state.filterItem;t.state=e,this.setState({filterItem:t})}},{key:"resetSearchFilter",value:function(){this.setState({filterItem:{filter_organization_id:"",country:"",state:"",custom_search:""}}),this.EmployeeList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.EmployeeList,n=t.loading,o=t.modal,r=t.formProccessing,i=t.organizationList,s="";n&&(s=c.a.createElement(N.a,null));var l=c.a.createElement(c.a.Fragment,null,"Submit ",c.a.createElement("i",{className:"fa fa-spinner"}));return c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(u.a,null,s,c.a.createElement(d.a,{lg:12},c.a.createElement(m.a,{className:"oep-card"},c.a.createElement(p.a,{className:"mainHeading"},c.a.createElement("strong",null,"Employee List")," ",c.a.createElement(f.a,{color:"",className:"categoryAdd",type:"button",onClick:this.toggle},c.a.createElement("i",{className:"fa fa-plus"})," Add Employee")),c.a.createElement(g.a,null,c.a.createElement(u.a,null,c.a.createElement(d.a,{md:12},c.a.createElement("div",{className:"search-filter"},c.a.createElement(u.a,null,c.a.createElement(d.a,{md:"2"},c.a.createElement(h.a,null,c.a.createElement(v.a,{htmlFor:"filter_organization_id"},"Organization"),c.a.createElement(y.a,{type:"select",placeholder:"Organization *",id:"filter_organization_id",name:"filter_organization_id",value:this.state.filterItem.filter_organization_id,onChange:this.changeFilterHandler},c.a.createElement("option",{value:""},"Select Organization"),i.map((function(e,t){return c.a.createElement(T,{key:t,organizationInfo:e})}))))),c.a.createElement(d.a,{md:"2"},c.a.createElement(h.a,null,c.a.createElement(v.a,{htmlFor:"filter_organization_id"},"Country"),c.a.createElement(O.a,{id:"filterCountry",priorityOptions:["US"],name:"filterCountry",className:"form-control",value:this.state.filterItem.country,onChange:function(t){return e.selectFilterCountry(t)}}))),c.a.createElement(d.a,{md:"3"},c.a.createElement(h.a,null,c.a.createElement(v.a,{htmlFor:"filter_organization_id"},"State"),c.a.createElement(O.b,{id:"filterState",name:"filterState",className:"form-control",country:this.state.filterItem.country,defaultOptionLabel:"Select State",blankOptionLabel:"Select State",value:this.state.filterItem.state,onChange:function(t){return e.selectFilterRegion(t)}}))),c.a.createElement(d.a,{md:"3"},c.a.createElement(h.a,null,c.a.createElement(v.a,{htmlFor:"filter_organization_id"},"Search By Email/ Name"),c.a.createElement(y.a,{type:"text",placeholder:"Search By Email/ Name",id:"custom_search",name:"custom_search",value:this.state.formField.custom_search,onChange:this.changeFilterHandler}))),c.a.createElement(d.a,{md:"2"},c.a.createElement(h.a,{className:"filter-button-section"},c.a.createElement(v.a,{htmlFor:"filter_organization_id"},"\xa0"),c.a.createElement(f.a,{className:"search-btn",type:"button",onClick:this.filterEmployeeList},"Search"),c.a.createElement(f.a,{className:"search-btn",id:"resetButton",type:"button",onClick:this.resetSearchFilter},"Reset")))))),c.a.createElement(d.a,{md:12},c.a.createElement(x,{data:a,editEmployeeAction:this.handleEditEmployee,deleteEmployeeAction:this.handleDeleteEmployee,dataTableLoadingStatus:this.state.loading}))))))),c.a.createElement(b.a,{isOpen:o,toggle:this.toggle,className:"full-width-modal-section employee-modal"},c.a.createElement(E.a,{toggle:this.toggle},"Employee"),c.a.createElement(S.a,{onSubmit:this.submitHandler,noValidate:!0},c.a.createElement(_.a,null,c.a.createElement(A.a,{formErrors:this.state.formErrors}),c.a.createElement(u.a,null,c.a.createElement(d.a,{md:"6"},c.a.createElement(h.a,null,c.a.createElement(v.a,{htmlFor:"organizationId"},"Organization"),c.a.createElement(y.a,{type:"select",placeholder:"Organization *",id:"organizationId",name:"organizationId",value:this.state.formField.organizationId,onChange:this.changeHandler,required:!0},c.a.createElement("option",{value:""},"Select Organization"),i.map((function(e,t){return c.a.createElement(T,{key:t,organizationInfo:e})}))))),c.a.createElement(d.a,{md:"6"},c.a.createElement(h.a,null,c.a.createElement(v.a,{htmlFor:"first_name"},"First Name"),c.a.createElement(y.a,{type:"text",placeholder:"First Name *",id:"first_name",name:"first_name",value:this.state.formField.first_name,onChange:this.changeHandler,required:!0}))),c.a.createElement(d.a,{md:"6"},c.a.createElement(h.a,null,c.a.createElement(v.a,{htmlFor:"first_name"},"Last Name"),c.a.createElement(y.a,{type:"text",placeholder:"Last Name *",id:"last_name",name:"last_name",value:this.state.formField.last_name,onChange:this.changeHandler,required:!0}))),c.a.createElement(d.a,{md:"6"},c.a.createElement(h.a,null,c.a.createElement(v.a,{htmlFor:"email"},"Email"),c.a.createElement(y.a,{type:"text",placeholder:"Email *",id:"email",name:"email",value:this.state.formField.email,onChange:this.changeHandler,required:!0}))),c.a.createElement(d.a,{md:"6"},c.a.createElement(h.a,null,c.a.createElement(v.a,{htmlFor:"role"},"Role"),c.a.createElement(y.a,{type:"text",placeholder:"Role *",id:"role",name:"role",value:this.state.formField.role,onChange:this.changeHandler}))),c.a.createElement(d.a,{md:"6"},c.a.createElement(h.a,null,c.a.createElement(v.a,{htmlFor:"phoneNumber"},"Contact Number"),c.a.createElement(y.a,{type:"text",placeholder:"Contact Number ",id:"phoneNumber",name:"phoneNumber",value:this.state.formField.phoneNumber,onChange:this.changeHandler}))),c.a.createElement(d.a,{md:"6"},c.a.createElement(h.a,null,c.a.createElement(v.a,{htmlFor:"address"},"Address"),c.a.createElement(C.a,{setLatitudeLongitude:this.setLatitudeLongitude,address:this.state.formField.address}))),c.a.createElement(d.a,{md:"6"},c.a.createElement(h.a,null,c.a.createElement(v.a,{htmlFor:"postalCode"},"Postal Code"),c.a.createElement(y.a,{type:"text",placeholder:"Postal Code",id:"postalCode",name:"postalCode",value:this.state.formField.postalCode,onChange:this.changeHandler}))),c.a.createElement(d.a,{lg:6},c.a.createElement(h.a,null,c.a.createElement(v.a,{htmlFor:"template_status"},"Status"),c.a.createElement(y.a,{type:"select",placeholder:"Status *",id:"status",name:"status",value:this.state.formField.status,onChange:this.changeHandler,required:!0},c.a.createElement("option",{value:""},"Select Status"),c.a.createElement("option",{value:"Active"},"Active"),c.a.createElement("option",{value:"Inactive"},"Inactive")))))),c.a.createElement(w.a,null,c.a.createElement(f.a,{color:"primary",disabled:!this.state.formValid||r,type:"submit"},r?l:"Submit"),c.a.createElement(f.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),a}(l.Component));function T(e){var t=e.organizationInfo;return c.a.createElement("option",{value:t.authId},t.organizationName)}t.default=z},298:function(e,t,a){"use strict";var n=a(0),o=a.n(n);a(299);t.a=function(){return o.a.createElement("div",{className:"loaderSection"},o.a.createElement("div",{className:"spinner-border text-primary",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading...")))}},299:function(e,t,a){},327:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),o=a.n(n),r=(a(328),function(e){var t=e.formErrors;return o.a.createElement("div",{className:"col-md-12 col-lg-12"},o.a.createElement("div",{className:"formErrors"},Object.keys(t).map((function(e,a){if(t[e].length>0){var n=e.replace("_"," ");return o.a.createElement("p",{key:a},n," ",t[e])}return""}))))})},328:function(e,t,a){},352:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.geoPropTypes=t.geolocated=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}return t.default=e,t}(a(0)),r=(n=a(30))&&n.__esModule?n:{default:n};function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,a){return t&&c(e.prototype,t),a&&c(e,a),e}function d(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?p(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=function(e){return"Geolocated(".concat(e.displayName||e.name||"Component",")")};t.geolocated=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.positionOptions,a=void 0===t?{enableHighAccuracy:!0,maximumAge:0,timeout:1/0}:t,n=e.isOptimisticGeolocationEnabled,i=void 0===n||n,c=e.userDecisionTimeout,g=void 0===c?null:c,y=e.suppressLocationOnMount,b=void 0!==y&&y,E=e.watchPosition,S=void 0!==E&&E,_=e.geolocationProvider,w=void 0===_?"undefined"!==typeof navigator&&navigator.geolocation:_;return function(e){var t=function(t){function n(e){var t;return l(this,n),h(p(t=d(this,m(n).call(this,e))),"isCurrentlyMounted",!1),h(p(t),"cancelUserDecisionTimeout",(function(){t.userDecisionTimeoutId&&clearTimeout(t.userDecisionTimeoutId)})),h(p(t),"onPositionError",(function(e){t.cancelUserDecisionTimeout(),t.isCurrentlyMounted&&t.setState({coords:null,isGeolocationEnabled:!1,positionError:e}),t.props.onError&&t.props.onError(e)})),h(p(t),"onPositionSuccess",(function(e){t.cancelUserDecisionTimeout(),t.isCurrentlyMounted&&t.setState({coords:e.coords,isGeolocationEnabled:!0,positionError:null}),t.props.onSuccess&&t.props.onSuccess(e)})),h(p(t),"getLocation",(function(){if(!w||!w.getCurrentPosition||!w.watchPosition)throw new Error("The provided geolocation provider is invalid");var e=(S?w.watchPosition:w.getCurrentPosition).bind(w);g&&(t.userDecisionTimeoutId=setTimeout((function(){t.onPositionError()}),g)),t.watchId=e(t.onPositionSuccess,t.onPositionError,a)})),t.state={coords:null,isGeolocationAvailable:Boolean(w),isGeolocationEnabled:i,positionError:null},t}return f(n,t),u(n,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,b||this.getLocation()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.cancelUserDecisionTimeout(),S&&w.clearWatch(this.watchId)}},{key:"render",value:function(){return o.default.createElement(e,s({},this.state,this.props))}}]),n}(o.Component);return t.displayName=v(e),t.propTypes={onError:r.default.func,onSuccess:r.default.func},t}};var y={coords:r.default.shape({latitude:r.default.number,longitude:r.default.number,altitude:r.default.number,accuracy:r.default.number,altitudeAccuracy:r.default.number,heading:r.default.number,speed:r.default.number}),isGeolocationAvailable:r.default.bool,isGeolocationEnabled:r.default.bool,positionError:r.default.shape({code:r.default.oneOf([1,2,3]),message:r.default.string}),watchPosition:r.default.bool};t.geoPropTypes=y},353:function(e,t,a){"use strict";var n=a(39),o=a(40),r=a(70),i=a(69),s=a(0),l=a.n(s),c=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={address:"",scriptLoading:!1},o}return Object(o.a)(a,[{key:"render",value:function(){return this.props.updateAddress(this.props.cords),l.a.createElement(l.a.Fragment,null)}}]),a}(l.a.Component);t.a=c},421:function(e,t,a){"use strict";var n=a(39),o=a(40),r=a(72),i=a(70),s=a(69),l=a(0),c=a.n(l),u=a(422),d=a.n(u),m=a(303),p=a(352),f=a(353),g=(a(427),a(47)),h=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).useCurrentLocation=function(e){o.state.locationEnabled?o.props.setLatitudeLongitude(o.state.currentAddress.formatted_address,{latitude:o.state.currentAddress.latitude,longitude:o.state.currentAddress.longitude},o.state.currentAddress.city,o.state.currentAddress.state,o.state.currentAddress.country,o.state.currentAddress.postal_code):m.b.error("Please allow to access your location")},o.handleChange=function(e){o.setState({address:e}),""===e&&o.props.setLatitudeLongitude(e,{lat:"",lng:""})},o.handleSelect=function(e){o.setState({address:e}),console.log(e);var t="",a="",n="",r="";Object(u.geocodeByAddress)(e).then((function(e){for(var o=e[0],i={premise:"short_name",street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"long_name",country:"long_name",postal_code:"long_name"},s=0;s<o.address_components.length;s++){var l=o.address_components[s].types[0];i[l]&&("locality"===l?t=o.address_components[s][i[l]]:"country"===l?n=o.address_components[s][i[l]]:"administrative_area_level_1"===l?a=o.address_components[s][i[l]]:"postal_code"===l&&(r=o.address_components[s][i[l]]))}Object(u.getLatLng)(e[0])})).then((function(i){return o.props.setLatitudeLongitude(e,i,t,a,n,r)})).catch((function(e){return console.error("Error",e)}))},o.state={address:"",latitude:"",longitude:"",scriptLoading:!1,currentAddress:{country:"",state:"",city:"",postal_code:"",formatted_address:"",latitude:"",longitude:""},locationEnabled:!1},o.updateGeoLocationAddress=o.updateGeoLocationAddress.bind(Object(r.a)(o)),o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;if("undefined"===typeof google){var t=document.createElement("script");t.type="text/javascript",t.src="https://maps.google.com/maps/api/js?key=AIzaSyBmyGVmnHPHZp2eC1XNMx-GaBRC20g9Tck&libraries=places";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a),t.addEventListener("load",(function(t){e.setState({scriptLoading:!0})}))}else this.setState({scriptLoading:!0})}},{key:"updateGeoLocationAddress",value:function(e){var t=this;e.latitude&&e.longitude&&this.setState({latitude:e.latitude,longitude:e.longitude,locationEnabled:!0},(function(){g.a.getExternalAPI("https://maps.googleapis.com/maps/api/geocode/json?latlng="+e.latitude+","+e.longitude+"&key="+g.a.getGoogleAPIKey()).then((function(a){var n=a.data.results?a.data.results[0]:[];if(void 0!==n.address_components&&n.address_components.length>0){var o=n.address_components.filter((function(e){return e.types.indexOf("country")>-1})),r=n.address_components.filter((function(e){return e.types.indexOf("administrative_area_level_1")>-1})),i=n.address_components.filter((function(e){return e.types.indexOf("administrative_area_level_2")>-1})),s=n.address_components.filter((function(e){return e.types.indexOf("postal_code")>-1})),l=n.formatted_address||"",c={country:o.length>0?o[0].long_name:"",state:r.length>0?r[0].long_name:"",city:i.length>0?i[0].long_name:"",postal_code:s.length>0?s[0].long_name:"",formatted_address:l,latitude:e.latitude,longitude:e.longitude};t.setState({currentAddress:c})}})).catch((function(e){}))}))}},{key:"render",value:function(){var e=""===this.state.address&&this.props.address?this.props.address:this.state.address;return this.state.scriptLoading?c.a.createElement(c.a.Fragment,null,this.props.isGeolocationAvailable&&this.props.isGeolocationEnabled?null==this.props.coords||this.state.locationEnabled?c.a.createElement(c.a.Fragment,null):c.a.createElement(f.a,{cords:this.props.coords,updateAddress:this.updateGeoLocationAddress}):c.a.createElement(c.a.Fragment,null),c.a.createElement("span",{className:"use-current-location pull-right",onClick:this.useCurrentLocation},c.a.createElement("span",{className:"location-icon"},c.a.createElement("img",{src:"https://retailoep.com/current_location.png",alt:" Current Location",className:"current-location-icon"})),"Use current location"),c.a.createElement(d.a,{value:e,onChange:this.handleChange,onSelect:this.handleSelect},(function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,o=e.loading;return c.a.createElement("div",null,c.a.createElement("input",t({name:"address",placeholder:"Search Location ...",className:"form-control location-search-input"})),c.a.createElement("div",{className:"autocomplete-dropdown-container"},o&&c.a.createElement("div",null,"Loading..."),a.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return c.a.createElement("div",n(e,{className:t,style:a}),c.a.createElement("strong",null,e.formattedSuggestion.mainText)," ",c.a.createElement("small",null,e.formattedSuggestion.secondaryText))}))))}))):c.a.createElement(c.a.Fragment,null)}}]),a}(c.a.Component);t.a=Object(p.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})(h)},422:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLatLng=t.geocodeByPlaceId=t.geocodeByAddress=void 0;var n,o=a(423),r=(n=o)&&n.__esModule?n:{default:n},i=a(426);t.geocodeByAddress=i.geocodeByAddress,t.geocodeByPlaceId=i.geocodeByPlaceId,t.getLatLng=i.getLatLng,t.default=r.default},423:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=c(a(0)),i=c(a(30)),s=c(a(424)),l=a(425);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.init=function(){if(!window.google)throw new Error("[react-places-autocomplete]: Google Maps JavaScript API library must be loaded. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");if(!window.google.maps.places)throw new Error("[react-places-autocomplete]: Google Maps Places library must be loaded. Please add `libraries=places` to the src URL. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");a.autocompleteService=new window.google.maps.places.AutocompleteService,a.autocompleteOK=window.google.maps.places.PlacesServiceStatus.OK,a.setState((function(e){return e.ready?null:{ready:!0}}))},a.autocompleteCallback=function(e,t){if(a.setState({loading:!1}),t===a.autocompleteOK){var n=a.props.highlightFirstSuggestion;a.setState({suggestions:e.map((function(e,t){return{id:e.id,description:e.description,placeId:e.place_id,active:!(!n||0!==t),index:t,formattedSuggestion:(a=e.structured_formatting,{mainText:a.main_text,secondaryText:a.secondary_text}),matchedSubstrings:e.matched_substrings,terms:e.terms,types:e.types};var a}))})}else a.props.onError(t,a.clearSuggestions)},a.fetchPredictions=function(){var e=a.props.value;e.length&&(a.setState({loading:!0}),a.autocompleteService.getPlacePredictions(n({},a.props.searchOptions,{input:e}),a.autocompleteCallback))},a.clearSuggestions=function(){a.setState({suggestions:[]})},a.clearActive=function(){a.setState({suggestions:a.state.suggestions.map((function(e){return n({},e,{active:!1})}))})},a.handleSelect=function(e,t){a.clearSuggestions(),a.props.onSelect?a.props.onSelect(e,t):a.props.onChange(e)},a.getActiveSuggestion=function(){return a.state.suggestions.find((function(e){return e.active}))},a.selectActiveAtIndex=function(e){var t=a.state.suggestions.find((function(t){return t.index===e})).description;a.setActiveAtIndex(e),a.props.onChange(t)},a.selectUserInputValue=function(){a.clearActive(),a.props.onChange(a.state.userInputValue)},a.handleEnterKey=function(){var e=a.getActiveSuggestion();void 0===e?a.handleSelect(a.props.value,null):a.handleSelect(e.description,e.placeId)},a.handleDownKey=function(){if(0!==a.state.suggestions.length){var e=a.getActiveSuggestion();void 0===e?a.selectActiveAtIndex(0):e.index===a.state.suggestions.length-1?a.selectUserInputValue():a.selectActiveAtIndex(e.index+1)}},a.handleUpKey=function(){if(0!==a.state.suggestions.length){var e=a.getActiveSuggestion();void 0===e?a.selectActiveAtIndex(a.state.suggestions.length-1):0===e.index?a.selectUserInputValue():a.selectActiveAtIndex(e.index-1)}},a.handleInputKeyDown=function(e){switch(e.key){case"Enter":e.preventDefault(),a.handleEnterKey();break;case"ArrowDown":e.preventDefault(),a.handleDownKey();break;case"ArrowUp":e.preventDefault(),a.handleUpKey();break;case"Escape":a.clearSuggestions()}},a.setActiveAtIndex=function(e){a.setState({suggestions:a.state.suggestions.map((function(t,a){return n({},t,a===e?{active:!0}:{active:!1})}))})},a.handleInputChange=function(e){var t=e.target.value;a.props.onChange(t),a.setState({userInputValue:t}),t?a.props.shouldFetchSuggestions&&a.debouncedFetchPredictions():a.clearSuggestions()},a.handleInputOnBlur=function(){a.mousedownOnSuggestion||a.clearSuggestions()},a.getActiveSuggestionId=function(){var e=a.getActiveSuggestion();return e?"PlacesAutocomplete__suggestion-"+e.placeId:void 0},a.getIsExpanded=function(){return a.state.suggestions.length>0},a.getInputProps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.hasOwnProperty("value"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `value`. Use `value` prop instead");if(e.hasOwnProperty("onChange"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `onChange`. Use `onChange` prop instead");var t={type:"text",autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-expanded":a.getIsExpanded(),"aria-activedescendant":a.getActiveSuggestionId(),disabled:!a.state.ready};return n({},t,e,{onKeyDown:(0,l.compose)(a.handleInputKeyDown,e.onKeyDown),onBlur:(0,l.compose)(a.handleInputOnBlur,e.onBlur),value:a.props.value,onChange:function(e){a.handleInputChange(e)}})},a.getSuggestionItemProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.handleSuggestionMouseEnter.bind(a,e.index),r=a.handleSuggestionClick.bind(a,e);return n({},t,{key:e.id,id:a.getActiveSuggestionId(),role:"option",onMouseEnter:(0,l.compose)(o,t.onMouseEnter),onMouseLeave:(0,l.compose)(a.handleSuggestionMouseLeave,t.onMouseLeave),onMouseDown:(0,l.compose)(a.handleSuggestionMouseDown,t.onMouseDown),onMouseUp:(0,l.compose)(a.handleSuggestionMouseUp,t.onMouseUp),onTouchStart:(0,l.compose)(a.handleSuggestionTouchStart,t.onTouchStart),onTouchEnd:(0,l.compose)(a.handleSuggestionMouseUp,t.onTouchEnd),onClick:(0,l.compose)(r,t.onClick)})},a.handleSuggestionMouseEnter=function(e){a.setActiveAtIndex(e)},a.handleSuggestionMouseLeave=function(){a.mousedownOnSuggestion=!1,a.clearActive()},a.handleSuggestionMouseDown=function(e){e.preventDefault(),a.mousedownOnSuggestion=!0},a.handleSuggestionTouchStart=function(){a.mousedownOnSuggestion=!0},a.handleSuggestionMouseUp=function(){a.mousedownOnSuggestion=!1},a.handleSuggestionClick=function(e,t){t&&t.preventDefault&&t.preventDefault();var n=e.description,o=e.placeId;a.handleSelect(n,o),setTimeout((function(){a.mousedownOnSuggestion=!1}))},a.state={loading:!1,suggestions:[],userInputValue:e.value,ready:!e.googleCallbackName},a.debouncedFetchPredictions=(0,s.default)(a.fetchPredictions,a.props.debounce),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this.props.googleCallbackName;e?window.google?this.init():window[e]=this.init:this.init()}},{key:"componentWillUnmount",value:function(){var e=this.props.googleCallbackName;e&&window[e]&&delete window[e]}},{key:"render",value:function(){return this.props.children({getInputProps:this.getInputProps,getSuggestionItemProps:this.getSuggestionItemProps,loading:this.state.loading,suggestions:this.state.suggestions})}}]),t}(r.default.Component);u.propTypes={onChange:i.default.func.isRequired,value:i.default.string.isRequired,children:i.default.func.isRequired,onError:i.default.func,onSelect:i.default.func,searchOptions:i.default.shape({bounds:i.default.object,componentRestrictions:i.default.object,location:i.default.object,offset:i.default.oneOfType([i.default.number,i.default.string]),radius:i.default.oneOfType([i.default.number,i.default.string]),types:i.default.array}),debounce:i.default.number,highlightFirstSuggestion:i.default.bool,shouldFetchSuggestions:i.default.bool,googleCallbackName:i.default.string},u.defaultProps={onError:function(e,t){return console.error("[react-places-autocomplete]: error happened when fetching data from Google Maps API.\nPlease check the docs here (https://developers.google.com/maps/documentation/javascript/places#place_details_responses)\nStatus: ",e)},searchOptions:{},debounce:200,highlightFirstSuggestion:!1,shouldFetchSuggestions:!0},t.default=u},424:function(e,t,a){(function(t){var a=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,r=/^0o[0-7]+$/i,i=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),u=Object.prototype.toString,d=Math.max,m=Math.min,p=function(){return c.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var s=o.test(e);return s||r.test(e)?i(e.slice(2),s?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,a){var n,o,r,i,s,l,c=0,u=!1,h=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var a=n,r=o;return n=o=void 0,c=t,i=e.apply(r,a)}function b(e){return c=e,s=setTimeout(S,t),u?y(e):i}function E(e){var a=e-l;return void 0===l||a>=t||a<0||h&&e-c>=r}function S(){var e=p();if(E(e))return _(e);s=setTimeout(S,function(e){var a=t-(e-l);return h?m(a,r-(e-c)):a}(e))}function _(e){return s=void 0,v&&n?y(e):(n=o=void 0,i)}function w(){var e=p(),a=E(e);if(n=arguments,o=this,l=e,a){if(void 0===s)return b(l);if(h)return s=setTimeout(S,t),y(l)}return void 0===s&&(s=setTimeout(S,t)),i}return t=g(t)||0,f(a)&&(u=!!a.leading,r=(h="maxWait"in a)?d(g(a.maxWait)||0,t):r,v="trailing"in a?!!a.trailing:v),w.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=o=s=void 0},w.flush=function(){return void 0===s?i:_(p())},w}}).call(this,a(10))},425:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.compose=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];t.forEach((function(e){return e&&e.apply(void 0,a)}))}},t.pick=function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return a.reduce((function(t,a){return e.hasOwnProperty(a)&&(t[a]=e[a]),t}),{})}},426:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.geocodeByAddress=function(e){var t=new window.google.maps.Geocoder,a=window.google.maps.GeocoderStatus.OK;return new Promise((function(n,o){t.geocode({address:e},(function(e,t){t!==a&&o(t),n(e)}))}))},t.getLatLng=function(e){return new Promise((function(t,a){try{t({lat:e.geometry.location.lat(),lng:e.geometry.location.lng()})}catch(n){a(n)}}))},t.geocodeByPlaceId=function(e){var t=new window.google.maps.Geocoder,a=window.google.maps.GeocoderStatus.OK;return new Promise((function(n,o){t.geocode({placeId:e},(function(e,t){t!==a&&o(t),n(e)}))}))}},427:function(e,t,a){}}]);
//# sourceMappingURL=16.6ce7cabb.chunk.js.map
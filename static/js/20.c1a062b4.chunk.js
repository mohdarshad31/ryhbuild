(this.webpackJsonpResearchYourHealth=this.webpackJsonpResearchYourHealth||[]).push([[20],{1140:function(e,t,a){"use strict";var n=a(5),r=a(0),i=a.n(r),o=a(290),s=a.n(o),l=a(301),c=a(9),d=a(30),m=a.n(d),u=a(21),p=a(347),h=a(71),f=a.n(h),g=a(388),E=a(291),v=a(386);var b={children:m.a.node.isRequired,popperClassName:m.a.string,placement:m.a.string,placementPrefix:m.a.string,arrowClassName:m.a.string,hideArrow:m.a.bool,tag:E.p,isOpen:m.a.bool.isRequired,cssModule:m.a.object,offset:m.a.oneOfType([m.a.string,m.a.number]),fallbackPlacement:m.a.oneOfType([m.a.string,m.a.array]),flip:m.a.bool,container:E.q,target:E.q.isRequired,modifiers:m.a.object,boundariesElement:m.a.oneOfType([m.a.string,E.a]),onClosed:m.a.func,fade:m.a.bool,transition:m.a.shape(v.a.propTypes)},O={boundariesElement:"scrollParent",placement:"auto",hideArrow:!1,isOpen:!1,offset:0,fallbackPlacement:"flip",flip:!0,container:"body",modifiers:{},onClosed:function(){},fade:!0,transition:Object(p.a)({},v.a.defaultProps)},y=function(e){function t(t){var a;return(a=e.call(this,t)||this).setTargetNode=a.setTargetNode.bind(Object(l.a)(a)),a.getTargetNode=a.getTargetNode.bind(Object(l.a)(a)),a.getRef=a.getRef.bind(Object(l.a)(a)),a.onClosed=a.onClosed.bind(Object(l.a)(a)),a.state={isOpen:t.isOpen},a}Object(c.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.isOpen&&!t.isOpen?{isOpen:e.isOpen}:null};var a=t.prototype;return a.componentDidUpdate=function(){this._element&&this._element.childNodes&&this._element.childNodes[0]&&this._element.childNodes[0].focus&&this._element.childNodes[0].focus()},a.setTargetNode=function(e){this.targetNode="string"===typeof e?Object(E.i)(e):e},a.getTargetNode=function(){return this.targetNode},a.getContainerNode=function(){return Object(E.i)(this.props.container)},a.getRef=function(e){this._element=e},a.onClosed=function(){this.props.onClosed(),this.setState({isOpen:!1})},a.renderChildren=function(){var e=this.props,t=e.cssModule,a=e.children,r=e.isOpen,o=e.flip,l=(e.target,e.offset),c=e.fallbackPlacement,d=e.placementPrefix,m=e.arrowClassName,h=e.hideArrow,f=e.popperClassName,b=e.tag,O=(e.container,e.modifiers),y=e.boundariesElement,T=(e.onClosed,e.fade),w=e.transition,k=e.placement,D=Object(u.a)(e,["cssModule","children","isOpen","flip","target","offset","fallbackPlacement","placementPrefix","arrowClassName","hideArrow","popperClassName","tag","container","modifiers","boundariesElement","onClosed","fade","transition","placement"]),N=Object(E.l)(s()("arrow",m),t),j=Object(E.l)(s()(f,d?d+"-auto":""),this.props.cssModule),M=Object(p.a)({offset:{offset:l},flip:{enabled:o,behavior:c},preventOverflow:{boundariesElement:y}},O),C=Object(p.a)({},v.a.defaultProps,{},w,{baseClass:T?w.baseClass:"",timeout:T?w.timeout:0});return i.a.createElement(v.a,Object(n.a)({},C,D,{in:r,onExited:this.onClosed,tag:b}),i.a.createElement(g.a,{referenceElement:this.targetNode,modifiers:M,placement:k},(function(e){var t=e.ref,n=e.style,r=e.placement,o=e.arrowProps;return i.a.createElement("div",{ref:t,style:n,className:j,"x-placement":r},a,!h&&i.a.createElement("span",{ref:o.ref,className:N,style:o.style}))})))},a.render=function(){return this.setTargetNode(this.props.target),this.state.isOpen?"inline"===this.props.container?this.renderChildren():f.a.createPortal(i.a.createElement("div",{ref:this.getRef},this.renderChildren()),this.getContainerNode()):null},t}(i.a.Component);y.propTypes=b,y.defaultProps=O;var T=y,w={placement:m.a.oneOf(E.b),target:E.q.isRequired,container:E.q,isOpen:m.a.bool,disabled:m.a.bool,hideArrow:m.a.bool,boundariesElement:m.a.oneOfType([m.a.string,E.a]),className:m.a.string,innerClassName:m.a.string,arrowClassName:m.a.string,popperClassName:m.a.string,cssModule:m.a.object,toggle:m.a.func,autohide:m.a.bool,placementPrefix:m.a.string,delay:m.a.oneOfType([m.a.shape({show:m.a.number,hide:m.a.number}),m.a.number]),modifiers:m.a.object,offset:m.a.oneOfType([m.a.string,m.a.number]),innerRef:m.a.oneOfType([m.a.func,m.a.string,m.a.object]),trigger:m.a.string,fade:m.a.bool,flip:m.a.bool},k={show:0,hide:50},D={isOpen:!1,hideArrow:!1,autohide:!1,delay:k,toggle:function(){},trigger:"click",fade:!0};function N(e,t){return t&&(e===t||t.contains(e))}function j(e,t){return void 0===t&&(t=[]),t&&t.length&&t.find((function(t){return N(e,t)}))}var M=function(e){function t(t){var a;return(a=e.call(this,t)||this)._targets=[],a.currentTargetElement=null,a.addTargetEvents=a.addTargetEvents.bind(Object(l.a)(a)),a.handleDocumentClick=a.handleDocumentClick.bind(Object(l.a)(a)),a.removeTargetEvents=a.removeTargetEvents.bind(Object(l.a)(a)),a.toggle=a.toggle.bind(Object(l.a)(a)),a.showWithDelay=a.showWithDelay.bind(Object(l.a)(a)),a.hideWithDelay=a.hideWithDelay.bind(Object(l.a)(a)),a.onMouseOverTooltipContent=a.onMouseOverTooltipContent.bind(Object(l.a)(a)),a.onMouseLeaveTooltipContent=a.onMouseLeaveTooltipContent.bind(Object(l.a)(a)),a.show=a.show.bind(Object(l.a)(a)),a.hide=a.hide.bind(Object(l.a)(a)),a.onEscKeyDown=a.onEscKeyDown.bind(Object(l.a)(a)),a.getRef=a.getRef.bind(Object(l.a)(a)),a.state={isOpen:t.isOpen},a._isMounted=!1,a}Object(c.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){this._isMounted=!0,this.updateTarget()},a.componentWillUnmount=function(){this._isMounted=!1,this.removeTargetEvents(),this._targets=null,this.clearShowTimeout(),this.clearHideTimeout()},t.getDerivedStateFromProps=function(e,t){return e.isOpen&&!t.isOpen?{isOpen:e.isOpen}:null},a.onMouseOverTooltipContent=function(){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._hideTimeout&&this.clearHideTimeout(),this.state.isOpen&&!this.props.isOpen&&this.toggle())},a.onMouseLeaveTooltipContent=function(e){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._showTimeout&&this.clearShowTimeout(),e.persist(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide")))},a.onEscKeyDown=function(e){"Escape"===e.key&&this.hide(e)},a.getRef=function(e){var t=this.props.innerRef;t&&("function"===typeof t?t(e):"object"===typeof t&&(t.current=e)),this._popover=e},a.getDelay=function(e){var t=this.props.delay;return"object"===typeof t?isNaN(t[e])?k[e]:t[e]:t},a.show=function(e){if(!this.props.isOpen){if(this.clearShowTimeout(),this.currentTargetElement=e?e.currentTarget||e.target:null,e&&e.composedPath&&"function"===typeof e.composedPath){var t=e.composedPath();this.currentTargetElement=t&&t[0]||this.currentTargetElement}this.toggle(e)}},a.showWithDelay=function(e){this._hideTimeout&&this.clearHideTimeout(),this._showTimeout=setTimeout(this.show.bind(this,e),this.getDelay("show"))},a.hide=function(e){this.props.isOpen&&(this.clearHideTimeout(),this.currentTargetElement=null,this.toggle(e))},a.hideWithDelay=function(e){this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide"))},a.clearShowTimeout=function(){clearTimeout(this._showTimeout),this._showTimeout=void 0},a.clearHideTimeout=function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0},a.handleDocumentClick=function(e){var t=this.props.trigger.split(" ");t.indexOf("legacy")>-1&&(this.props.isOpen||j(e.target,this._targets))?(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen&&!N(e.target,this._popover)?this.hideWithDelay(e):this.props.isOpen||this.showWithDelay(e)):t.indexOf("click")>-1&&j(e.target,this._targets)&&(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen?this.hideWithDelay(e):this.showWithDelay(e))},a.addEventOnTargets=function(e,t,a){this._targets.forEach((function(n){n.addEventListener(e,t,a)}))},a.removeEventOnTargets=function(e,t,a){this._targets.forEach((function(n){n.removeEventListener(e,t,a)}))},a.addTargetEvents=function(){if(this.props.trigger){var e=this.props.trigger.split(" ");-1===e.indexOf("manual")&&((e.indexOf("click")>-1||e.indexOf("legacy")>-1)&&document.addEventListener("click",this.handleDocumentClick,!0),this._targets&&this._targets.length&&(e.indexOf("hover")>-1&&(this.addEventOnTargets("mouseover",this.showWithDelay,!0),this.addEventOnTargets("mouseout",this.hideWithDelay,!0)),e.indexOf("focus")>-1&&(this.addEventOnTargets("focusin",this.show,!0),this.addEventOnTargets("focusout",this.hide,!0)),this.addEventOnTargets("keydown",this.onEscKeyDown,!0)))}},a.removeTargetEvents=function(){this._targets&&(this.removeEventOnTargets("mouseover",this.showWithDelay,!0),this.removeEventOnTargets("mouseout",this.hideWithDelay,!0),this.removeEventOnTargets("keydown",this.onEscKeyDown,!0),this.removeEventOnTargets("focusin",this.show,!0),this.removeEventOnTargets("focusout",this.hide,!0)),document.removeEventListener("click",this.handleDocumentClick,!0)},a.updateTarget=function(){var e=Object(E.i)(this.props.target,!0);e!==this._targets&&(this.removeTargetEvents(),this._targets=e?Array.from(e):[],this.currentTargetElement=this.currentTargetElement||this._targets[0],this.addTargetEvents())},a.toggle=function(e){return this.props.disabled||!this._isMounted?e&&e.preventDefault():this.props.toggle(e)},a.render=function(){if(!this.props.isOpen)return null;this.updateTarget();var e=this.props,t=e.className,a=e.cssModule,r=e.innerClassName,o=e.isOpen,s=e.hideArrow,l=e.boundariesElement,c=e.placement,d=e.placementPrefix,m=e.arrowClassName,u=e.popperClassName,p=e.container,h=e.modifiers,f=e.offset,g=e.fade,v=e.flip,b=Object(E.m)(this.props,Object.keys(w)),O=Object(E.l)(u,a),y=Object(E.l)(r,a);return i.a.createElement(T,{className:t,target:this.currentTargetElement||this._targets[0],isOpen:o,hideArrow:s,boundariesElement:l,placement:c,placementPrefix:d,arrowClassName:m,popperClassName:O,container:p,modifiers:h,offset:f,cssModule:a,fade:g,flip:v},i.a.createElement("div",Object(n.a)({},b,{ref:this.getRef,className:y,role:"tooltip",onMouseOver:this.onMouseOverTooltipContent,onMouseLeave:this.onMouseLeaveTooltipContent,onKeyDown:this.onEscKeyDown})))},t}(i.a.Component);M.propTypes=w,M.defaultProps=D;var C=M,P=function(e){var t=s()("tooltip","show",e.popperClassName),a=s()("tooltip-inner",e.innerClassName);return i.a.createElement(C,Object(n.a)({},e,{popperClassName:t,innerClassName:a}))};P.propTypes=w,P.defaultProps={placement:"top",autohide:!0,placementPrefix:"bs-tooltip",trigger:"hover focus"};t.a=P},1186:function(e,t,a){"use strict";a.r(t);var n=a(39),r=a(40),i=a(72),o=a(70),s=a(69),l=a(0),c=a.n(l),d=a(336),m=a(337),u=a(314),p=a(315),h=a(330),f=a(514),g=a(318),E=a(319),v=a(1140),b=a(303),O=(a(305),a(47)),y=a(340),T=a(298),w=a(533),k=a(362),D=a(363),N=(a(341),a(534),function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).createPdf=function(e){return k.a.createPdf(e,r.state.feedBackInfo.templateName+"_"+O.a.getCurrentDate())},r.state={loading:!1,feedBackId:"",formProccessing:!1,feedBackInfo:{templateFormData:[],feedBackData:{},inspectionId:""},apiUrl:"",tooltipOpen:!1},r.backButtonPrevious=r.backButtonPrevious.bind(Object(i.a)(r)),r.toggleScoreTooltip=r.toggleScoreTooltip.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params;void 0!==e.feedBackId&&""!==e.feedBackId&&this.getInspectionFeedBackDetail(e.feedBackId);var t=O.a.getAPIUrl();this.setState({apiUrl:t})}},{key:"toggleScoreTooltip",value:function(){this.setState({tooltipOpen:!this.state.tooltipOpen})}},{key:"getInspectionFeedBackDetail",value:function(e){var t=this;this.setState({loading:!0},(function(){O.a.getAPIWithAccessToken("inspection/feedback/detail/"+e).then((function(e){if(void 0===e.data.data||!e.data.status)return t.setState({loading:!1}),b.b.error(e.data.message),void t.props.history.push("/admin/inspection");var a=e.data.data;t.setState({loading:!1,feedBackInfo:a})})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),t.props.history.push("/login")):(t.setState({loading:!1}),b.b.error(e.message))}))}))}},{key:"backButtonPrevious",value:function(){this.props.history.push("/admin/manage-inspection/inspection/"+this.state.feedBackInfo.inspectionId)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.feedBackInfo,n="";return t?(n=c.a.createElement(T.a,null),c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(d.a,null,c.a.createElement(m.a,{md:12},c.a.createElement(u.a,null,c.a.createElement(p.a,{className:"mainHeading"},c.a.createElement("strong",null,"Preview Template")),c.a.createElement(h.a,null,n)))))):c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(d.a,null,c.a.createElement(m.a,{md:12},c.a.createElement(u.a,null,c.a.createElement(p.a,{className:"mainHeading"},c.a.createElement("strong",null,"Preview FeedBack Template "),c.a.createElement(f.a,{color:"",className:"categoryAdd",type:"button",onClick:this.backButtonPrevious},c.a.createElement("i",{className:"fa fa-arrow-left"})," Back")),c.a.createElement(h.a,{className:"feedBackPreview"},n,c.a.createElement(D.a,{createPdf:this.createPdf,showLogo:"false",templateType:"inspection",inspectionId:this.state.feedBackInfo.inspectionId,employeeId:this.state.feedBackInfo.employeeId},c.a.createElement("div",{className:"card-Preview-info"},c.a.createElement(d.a,null,c.a.createElement(m.a,{md:12},c.a.createElement(d.a,null,c.a.createElement(m.a,{md:3},c.a.createElement(g.a,null,c.a.createElement(E.a,{htmlFor:"employeeId"},"Store Name"),c.a.createElement("p",null,a.storeName?a.storeName:""))),c.a.createElement(m.a,{md:3},c.a.createElement(g.a,null,c.a.createElement(E.a,{htmlFor:"templateId"},"OEP Store Walk Tier ",c.a.createElement("a",{className:"info-icon-link",href:"https://retailoep.com/GLOBAL_OPERATIONAL_EXCELLENCE_PROGRAM_CHALLENGE.pdf",target:"_blank",rel:"noopener noreferrer"},c.a.createElement("i",{className:"fa fa-info"}))),c.a.createElement("p",null,1===a.storeWalkLevel?"Silver":2===a.storeWalkLevel?"Glod":3===a.storeWalkLevel?"Platinum":"Silver"," "))),c.a.createElement(m.a,{md:3},c.a.createElement(g.a,null,c.a.createElement(E.a,{htmlFor:"templateId"},"# Store Rank"),c.a.createElement("p",null,a.storeRank))),c.a.createElement(m.a,{md:3},c.a.createElement(g.a,null,c.a.createElement(E.a,{htmlFor:"templateId"},"Started On"),c.a.createElement("p",null,a.inspectionStartDate?y.a.getDateTime(a.inspectionStartDate):""))),c.a.createElement(m.a,{md:3},c.a.createElement(g.a,null,c.a.createElement(E.a,{htmlFor:"templateId"},"Prepared By"),c.a.createElement("p",null,a.employeeName))),c.a.createElement(m.a,{md:6},c.a.createElement(g.a,null,c.a.createElement(E.a,{htmlFor:"score"},"Address"),c.a.createElement("p",null,a.addressInfo?"".concat(a.addressInfo.formatted_address):""),c.a.createElement("p",null,a.addressInfo?"(".concat(a.addressInfo.latitude,",").concat(a.addressInfo.longitude,")"):""))),c.a.createElement(m.a,{md:3},c.a.createElement(g.a,null,c.a.createElement(E.a,{htmlFor:"score"},"State"),c.a.createElement("p",null,a.addressInfo?"".concat(a.addressInfo.state):""))),c.a.createElement(m.a,{md:3},c.a.createElement(g.a,null,c.a.createElement(E.a,{htmlFor:"score"},"Score ",c.a.createElement("span",{className:"info-icon-link",id:"tooltipScore"},c.a.createElement("i",{className:"fa fa-info"}))),c.a.createElement(v.a,{placement:"right",isOpen:this.state.tooltipOpen,target:"tooltipScore",toggle:this.toggleScoreTooltip},"Each Question is depend upon score point and the score reflects the missed items. These scores are factored into the world rankings and included into the Silver, Gold & Platinum banners."),c.a.createElement("p",null,a.successItem,"/",a.totalItem," - ",(100*a.score).toFixed(2),"%"))),c.a.createElement(m.a,{md:3},c.a.createElement(g.a,null,c.a.createElement(E.a,{htmlFor:"templateId"},"Completed On"),c.a.createElement("p",null,a.inspectionEndDate?y.a.getDateTime(a.inspectionEndDate):""))),c.a.createElement(m.a,{md:3},c.a.createElement(g.a,null,c.a.createElement(E.a,{htmlFor:"templateId"},"Duration"),c.a.createElement("p",null,a.totalDuration?y.a.convertTime(a.totalDuration):""))))))),c.a.createElement(w.a,{templateField:this.state.feedBackInfo.templateFormData,feedBackData:this.state.feedBackInfo.feedBackData,apiUrl:this.state.apiUrl})))))))}}]),a}(c.a.Component));t.default=N},298:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(299);t.a=function(){return r.a.createElement("div",{className:"loaderSection"},r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}},299:function(e,t,a){},318:function(e,t,a){"use strict";var n=a(5),r=a(21),i=a(0),o=a.n(i),s=a(30),l=a.n(s),c=a(290),d=a.n(c),m=a(291),u={children:l.a.node,row:l.a.bool,check:l.a.bool,inline:l.a.bool,disabled:l.a.bool,tag:m.p,className:l.a.string,cssModule:l.a.object},p=function(e){var t=e.className,a=e.cssModule,i=e.row,s=e.disabled,l=e.check,c=e.inline,u=e.tag,p=Object(r.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),h=Object(m.l)(d()(t,!!i&&"row",l?"form-check":"form-group",!(!l||!c)&&"form-check-inline",!(!l||!s)&&"disabled"),a);return"fieldset"===u&&(p.disabled=s),o.a.createElement(u,Object(n.a)({},p,{className:h}))};p.propTypes=u,p.defaultProps={tag:"div"},t.a=p},319:function(e,t,a){"use strict";var n=a(5),r=a(21),i=a(0),o=a.n(i),s=a(30),l=a.n(s),c=a(290),d=a.n(c),m=a(291),u=l.a.oneOfType([l.a.number,l.a.string]),p=l.a.oneOfType([l.a.string,l.a.number,l.a.shape({size:u,order:u,offset:u})]),h={children:l.a.node,hidden:l.a.bool,check:l.a.bool,size:l.a.string,for:l.a.string,tag:m.p,className:l.a.string,cssModule:l.a.object,xs:p,sm:p,md:p,lg:p,xl:p,widths:l.a.array},f={tag:"label",widths:["xs","sm","md","lg","xl"]},g=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},E=function(e){var t=e.className,a=e.cssModule,i=e.hidden,s=e.widths,l=e.tag,c=e.check,u=e.size,p=e.for,h=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),f=[];s.forEach((function(t,n){var r=e[t];if(delete h[t],r||""===r){var i,o=!n;if(Object(m.j)(r)){var s,l=o?"-":"-"+t+"-";i=g(o,t,r.size),f.push(Object(m.l)(d()(((s={})[i]=r.size||""===r.size,s["order"+l+r.order]=r.order||0===r.order,s["offset"+l+r.offset]=r.offset||0===r.offset,s))),a)}else i=g(o,t,r),f.push(i)}}));var E=Object(m.l)(d()(t,!!i&&"sr-only",!!c&&"form-check-label",!!u&&"col-form-label-"+u,f,!!f.length&&"col-form-label"),a);return o.a.createElement(l,Object(n.a)({htmlFor:p},h,{className:E}))};E.propTypes=h,E.defaultProps=f,t.a=E},340:function(e,t,a){"use strict";var n=a(39),r=a(40),i=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"getDateTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD H:i:s",a="";if(void 0!==e&&""!==e){var n=new Date(e),r=n.getDate();r=r<10?"0"+r:r;var i=n.getFullYear(),o=n.getMonth();o=(o+=1)<10?"0"+o:o;var s=n.getHours();s=s<10?"0"+s:s;var l=n.getMinutes();l=l<10?"0"+l:l;var c=n.getSeconds();c=c<10?"0"+c:c,"YYYY-MM-DD H:i:s"===t?a=i+"-"+o+"-"+r+" "+s+":"+l+":"+c:"DD-MM-YYYY H:i:s"===t?a=r+"-"+o+"-"+i+" "+s+":"+l+":"+c:"DD-MM-YYYY H:i"===t?a=r+"-"+o+"-"+i+" "+s+":"+l:"YYYY/MM/DD H:i:s"===t?a=i+"/"+o+"/"+r+" "+s+":"+l+":"+c:"MM/DD/YYYY H:i:s"===t?a=o+"/"+r+"/"+i+" "+s+":"+l+":"+c:"DD/MM/YYYY H:i:s"===t&&(a=r+"/"+o+"/"+i+" "+s+":"+l+":"+c)}return a}},{key:"getDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM/DD/YYYY",a="";if(void 0!==e&&""!==e){var n=new Date(e),r=n.getDate();r=r<10?"0"+r:r;var i=n.getFullYear(),o=n.getMonth();o=(o+=1)<10?"0"+o:o,"YYYY-MM-DD"===t?a=i+"-"+o+"-"+r:"DD-MM-YYYY"===t?a=r+"-"+o+"-"+i:"YYYY/MM/DD"===t?a=i+"/"+o+"/"+r:"MM/DD/YYYY"===t?a=o+"/"+r+"/"+i:"DD/MM/YYYY"===t&&(a=r+"/"+o+"/"+i)}return a}},{key:"convertTime",value:function(e){if(void 0===e||e<0)return"0 seconds";var t=Math.ceil(e),a=Math.floor(t/3600)%24;t-=3600*a;var n=Math.floor(t/60)%60,r=(t-=60*n)%60;return a>0&&n>0&&r>0?"".concat(a," hours ").concat(n," minutes ").concat(r," seconds"):n>0&&r>0?"".concat(n," minutes ").concat(r," seconds"):r>0?"".concat(r," seconds"):"0 seconds"}},{key:"getcurrentDate",value:function(){var e=new Date,t=e.getMonth()+1,a=e.getDate();return e.getFullYear()+"_"+((""+t).length<2?"0":"")+t+"_"+((""+a).length<2?"0":"")+a}}]),e}();t.a=new i},341:function(e,t,a){},362:function(e,t,a){"use strict";var n=a(39),r=a(628),i=new function e(){Object(n.a)(this,e),this.createPdf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"template";Object(r.a)(e,{paperSize:"Letter",fileName:t+".pdf",margin:3})}};t.a=i},363:function(e,t,a){"use strict";var n=a(312),r=a(39),i=a(40),o=a(72),s=a(70),l=a(69),c=a(0),d=a.n(c),m=a(303),u=a(47),p=(a(402),{width:"50%",margin:"0 auto",marginBottom:"20px"}),h={width:"100%"},f=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).toggle=function(){n.setState({modal:!n.state.modal})},n.submitHandler=function(e){(e.preventDefault(),e.target.className+=" was-validated",""!==n.state.share_email)?new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(n.state.share_email)?n.setState({loading:!0},(function(){if("inspection"===n.props.templateType){var e={email:n.state.share_email,inspectionId:n.props.inspectionId};u.a.postAPIWithAccessToken("inspection/share-inspection",e).then((function(e){if(void 0===e.data.data||!e.data.status)return n.setState({loading:!1}),m.b.error(e.data.message),void n.props.history.push("/login");n.setState({modal:!1,share_email:"",loading:!1})})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),n.props.history.push("/login")):(n.setState({loading:!1}),m.b.error(e.message))}))}else{var t=void 0!==n.props.templateName?n.props.templateName:"",a={email:n.state.share_email,body_content:n.bodyRef.current.innerHTML,template_name:t};u.a.postAPIWithAccessToken("template/share-template",a).then((function(e){if(void 0===e.data.data||!e.data.status)return n.setState({loading:!1}),m.b.error(e.data.message),void n.props.history.push("/login");n.setState({modal:!1,share_email:"",loading:!1})})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),n.props.history.push("/login")):(n.setState({loading:!1}),m.b.error(e.message))}))}})):m.b.error("Please enter valid email address"):m.b.error("Please enter email address")},n.showShareOption=function(){n.setState({modal:!0})},n.createPdf=function(){return n.props.createPdf(n.bodyRef.current)},n.state={modal:!1,share_email:"",email_error:"",loading:!1},n.bodyRef=d.a.createRef(),n.changeHandler=n.changeHandler.bind(Object(o.a)(n)),n.submitHandler=n.submitHandler.bind(Object(o.a)(n)),n}return Object(i.a)(a,[{key:"changeHandler",value:function(e){this.setState(Object(n.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e="".concat("https://niletechinnovations.com/projects/researchyourhealth","/logo.png");return d.a.createElement("section",{className:"pdf-container"},d.a.createElement("section",{className:"pdf-toolbar pdf-toolbar-padding"},d.a.createElement("a",{href:"!=",onClick:this.createPdf,className:" btn btn-ye"},d.a.createElement("i",{className:"fa fa-download"})," Download PDF")),d.a.createElement("section",{className:"pdf-body",style:{padding:"20px"},ref:this.bodyRef},d.a.createElement("div",{className:"pdf-header-logo",style:p},d.a.createElement("img",{src:e,alt:"logo",style:h})),this.props.children))}}]),a}(c.Component);t.a=f},402:function(e,t,a){},533:function(e,t,a){"use strict";var n=a(39),r=a(40),i=a(70),o=a(69),s=a(0),l=a.n(s),c=function(e){return l.a.createElement("customlabel",{dangerouslySetInnerHTML:{__html:e}})};function d(e){var t=e.formFieldDetails;if(null===t||void 0===t)return"";switch(t.element){case"Header":return l.a.createElement("tr",null,l.a.createElement("td",{colspan:"3"},l.a.createElement("h2",null,c(t.content))));case"RadioButtons":if(void 0===e.formValue)return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null,c(t.label)),l.a.createElement("td",null),l.a.createElement("td",null)));var a=void 0!==e.formValue.mediaFile&&e.formValue.mediaFile.length>0?l.a.createElement("tr",null,l.a.createElement("td",{colspan:"3"},e.formValue.mediaFile.length>0?l.a.createElement(u,{mediaFile:e.formValue.mediaFile,apiUrl:e.apiUrl}):null)):"";return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null,c(t.label)),l.a.createElement("td",null,e.formValue.input||""),l.a.createElement("td",null,c(e.formValue.remarks||""))),a);case"Paragraph":return l.a.createElement("tr",null,l.a.createElement("td",{colspan:"3"},c(t.content)));default:return l.a.createElement("tr",null,l.a.createElement("td",{colspan:"3"},c(t.label)))}}function m(e){return""!==e.filename?e.filename.toLowerCase().indexOf(".png")>-1||e.filename.toLowerCase().indexOf(".jpeg")>-1||e.filename.toLowerCase().indexOf(".jpg")>-1?l.a.createElement("img",{src:"".concat(e.apiUrl,"feedback/").concat(e.filename),alt:""}):l.a.createElement("a",{href:"".concat(e.apiUrl,"feedback/").concat(e.filename),target:"_blank",rel:"noopener noreferrer"},l.a.createElement("i",{className:"fa fa-download"}),"Download"):""}function u(e){return l.a.createElement("div",{className:"photos-section"},l.a.createElement("div",{className:"photos-info"},e.mediaFile.map((function(t,a){return l.a.createElement(m,{key:a,filename:t.mediaFile,apiUrl:e.apiUrl})}))))}var p=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={buttonProcessing:!1,rowIndex:"",dataTableItem:[]},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"getAllMediaFile",value:function(e){var t=[];return Object.keys(e).forEach((function(a,n){if(e[a].mediaFile.length>0)for(var r=0;r<e[a].mediaFile.length;r++)t.push(e[a].mediaFile[r])})),console.log([].length),t}},{key:"getFailedItem",value:function(e,t){var a=[];return Object.keys(e).forEach((function(t,n){null!==e[t].input&&(void 0!==e[t].score?void 0!==e[t].input&&e[t].isFailedItem&&a.push(t):void 0!==e[t].input&&"no"===e[t].input.toLowerCase()&&a.push(t))})),t.filter((function(e){return null!==e&&a.indexOf(e.id)>-1}))}},{key:"render",value:function(){var e=this,t=this.props.templateField,a=this.props.feedBackData,n="",r=this.getFailedItem(a,t),i=this.getAllMediaFile(a),o="";return i.length>0&&(o=l.a.createElement("div",{className:"feedBack-body"},l.a.createElement("h2",null,"All uploaded pictures"),l.a.createElement("p",null,'This section lists responses that were set as "uploaded pictures" in this template used for this audit '),l.a.createElement("table",{className:"feedBackPreviewTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null))),l.a.createElement("tbody",null,l.a.createElement("td",null,l.a.createElement(u,{mediaFile:i,apiUrl:this.props.apiUrl})))))),r.length>0&&(n=l.a.createElement("div",{className:"feedBack-body"},l.a.createElement("h2",null,"Failed Responses"),l.a.createElement("p",null,'This section lists responses that were set as "failed responses" in this template used for this audit '),l.a.createElement("table",{className:"feedBackPreviewTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Questions"),l.a.createElement("th",null,"Response"),l.a.createElement("th",null,"Details"))),l.a.createElement("tbody",null,r.map((function(t,n){return l.a.createElement(d,{key:n,formFieldDetails:t,formValue:a[t.id],apiUrl:e.props.apiUrl})})))))),l.a.createElement("div",{className:"card-Preview-info"},n,l.a.createElement("div",{className:"feedBack-body"},l.a.createElement("table",{className:"feedBackPreviewTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Questions"),l.a.createElement("th",null,"Response"),l.a.createElement("th",null,"Details"))),l.a.createElement("tbody",null,t.map((function(t,n){return null===t||void 0===t?"":l.a.createElement(d,{key:n,formFieldDetails:t,formValue:a[t.id],apiUrl:e.props.apiUrl})}))))),o,l.a.createElement("div",{className:"feedBack-body"},l.a.createElement("h3",{className:"sign-off"},"Sign-off"),l.a.createElement("table",{className:"feedBackPreviewTable"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"Comments/Recommendations"))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"Name & Signature")))))))}}]),a}(s.Component);t.a=p},534:function(e,t,a){}}]);
//# sourceMappingURL=20.c1a062b4.chunk.js.map
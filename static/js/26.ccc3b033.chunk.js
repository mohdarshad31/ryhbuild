(this.webpackJsonpResearchYourHealth=this.webpackJsonpResearchYourHealth||[]).push([[26],{1222:function(e,t,a){"use strict";a.r(t);var n=a(39),o=a(40),r=a(71),s=a(70),i=a(69),l=a(0),c=a.n(l),d=a(336),u=a(337),m=a(314),p=a(317),f=a(330),g=a(322),h=a(323),b=a(324),y=a(514),v=a(302),I=(a(305),a(47)),E=a(297),j=a(308),N=a(306),S=a(73),O=a(315),k=a.n(O),L=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={buttonProcessing:!1,rowIndex:"",dataTableItem:[]},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"deleteInspectionItem",value:function(e){this.props.deleteInspectionAction(e)}},{key:"render",value:function(){var e,t=this,a=[],n=Object(N.a)(this.props.data.entries());try{for(n.s();!(e=n.n()).done;){var o=Object(j.a)(e.value,2),r=o[0],s=o[1];console.log(r);var i={inspectionName:s.inspectionName,employeeName:s.employeeName,templateName:s.templateName||" ",categoryName:s.categoryName||" ",status:1===s.currentStatus?"Pending":2===s.currentStatus?"In Process":"Completed",action:""};a.push(i)}}catch(u){n.e(u)}finally{n.f()}var l=[{label:"Research Name",name:"inspectionName"},{label:"Employee",name:"employeeName"},{label:"Template",name:"templateName"},{label:"Category",name:"categoryName"},{label:"Status",name:"status"},{label:"Action",name:"action",options:{filter:!0,customBodyRender:function(e,a,n){var o=a.rowIndex,r=t.props.data[o];return c.a.createElement("p",null,c.a.createElement(S.Link,{to:"/admin/manage-research/assign-research/".concat(r.inspectionId),className:"btn-edit",disabled:t.state.buttonProcessing},c.a.createElement("i",{className:"fa fa-pencil"})," "),c.a.createElement("button",{className:"btn-delete",color:"warning",disabled:t.state.buttonProcessing,onClick:function(){return t.deleteInspectionItem(o)}},c.a.createElement("i",{className:"fa fa-trash"})))}}}],d={search:!1,viewColumns:!1,filter:!1,searchOpen:!1,print:!1,download:!1,responsive:"stacked",selectableRows:"none",textLabels:{body:{noMatch:this.props.dataTableLoadingStatus?"Processing........":"",toolTip:"Sort",columnHeaderTooltip:function(e){return"Sort for ".concat(e.label)}}},fixedHeaderOptions:{xAxis:!1,yAxis:!1}};return c.a.createElement(k.a,{data:a,columns:l,options:d})}}]),a}(l.Component),T=(a(447),function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).changeCategoryHandle=function(e){var t=e.target.name,a=e.target.value,n=o.state.filterItem;n[t]=a,o.setState({filterItem:n}),o.getTemplateList(a)},o.changeFilterHandler=function(e){var t=e.target.name,a=e.target.value,n=o.state.filterItem;n[t]=a,o.setState({filterItem:n})},o.state={modal:!1,inspectionList:[],loading:!0,employeeList:[],templateList:[],categoryList:[],filterItem:{organizationId:"",categoryId:"",subCategoryId:"",templateId:"",employeeId:""}},o.handleDeleteInspection=o.handleDeleteInspection.bind(Object(r.a)(o)),o.filterInspectionList=o.filterInspectionList.bind(Object(r.a)(o)),o.resetSearchFilter=o.resetSearchFilter.bind(Object(r.a)(o)),o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.inspectionList(),this.getEmployeeList(),this.categoryList()}},{key:"inspectionList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a="";void 0!==t.categoryId&&""!==t.categoryId&&(a+=""===a?"?categoryId="+t.categoryId:"&categoryId="+t.categoryId),void 0!==t.subCategoryId&&""!==t.subCategoryId&&(a+=""===a?"?subCategoryId="+t.subCategoryId:"&subCategoryId="+t.subCategoryId),void 0!==t.organizationId&&""!==t.organizationId&&(a+=""===a?"?organizationId="+t.organizationId:"&organizationId="+t.organizationId),void 0!==t.employeeId&&""!==t.employeeId&&(a+=""===a?"?employeeId="+t.employeeId:"&employeeId="+t.employeeId),void 0!==t.templateId&&""!==t.templateId&&(a+=""===a?"?templateId="+t.templateId:"&templateId="+t.templateId),this.setState({loading:!0},(function(){I.a.getAPIWithAccessToken("inspection"+a).then((function(t){if(void 0===t.data.data||!t.data.status)return e.setState({loading:!1}),void v.b.error(t.data.message);e.setState({loading:!1,inspectionList:t.data.data})})).catch((function(t){void 0!==t.response&&401===t.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),v.b.error(t.message))}))}))}},{key:"categoryList",value:function(){var e=this;I.a.getAPIWithAccessToken("template/category").then((function(t){if(console.log(t),void 0===t.data.data||!t.data.status)return e.setState({loading:!1}),void v.b.error(t.data.message);e.setState({categoryList:t.data.data})})).catch((function(t){void 0!==t.response&&401===t.response.status?(localStorage.clear(),e.props.history.push("/login")):v.b.error(t.message)}))}},{key:"getEmployeeList",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this.state.filterItem;this.setState({loading:!0},(function(){I.a.getAPIWithAccessToken("profile/list?role=both").then((function(n){if(console.log(n),void 0===n.data.data||!n.data.status)return e.setState({loading:!1}),void v.b.error(n.data.message);t&&(a.employeeId=""),e.setState({employeeList:n.data.data.profileList,filterItem:a,loading:!1})})).catch((function(t){void 0!==t.response&&401===t.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),v.b.error(t.message))}))}))}},{key:"getTemplateList",value:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.state.filterItem;if(""===e)return n.templateId="",void this.setState({filterItem:n,templateList:[]});this.setState({loading:!0},(function(){I.a.getAPIWithAccessToken("template?categoryId="+e).then((function(e){if(console.log(e),void 0===e.data.data||!e.data.status)return t.setState({loading:!1}),void v.b.error(e.data.message);a&&(n.templateId=""),t.setState({templateList:e.data.data,filterItem:n,loading:!1})})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),t.props.history.push("/login")):(t.setState({loading:!1}),v.b.error(e.message))}))}))}},{key:"filterInspectionList",value:function(){var e=this.state.filterItem;this.inspectionList(e)}},{key:"handleDeleteInspection",value:function(e){var t=this,a=this.state.inspectionList[e];this.setState({loading:!0},(function(){I.a.deleteAPIWithAccessToken("inspection/"+a.inspectionId).then((function(e){if(void 0===e.data.data||!e.data.status)return t.setState({loading:!1}),void v.b.error(e.data.message);t.setState({loading:!1}),t.inspectionList()})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),t.props.history.push("/login")):(t.setState({loading:!1}),v.b.error(e.message))}))}))}},{key:"resetSearchFilter",value:function(){this.setState({filterItem:{organizationId:"",categoryId:"",subCategoryId:"",templateId:"",employeeId:""}}),this.inspectionList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.inspectionList,n=t.loading,o=t.categoryList,r=t.templateList,s=t.employeeList,i="";return n&&(i=c.a.createElement(E.a,null)),c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(d.a,null,i,c.a.createElement(u.a,{lg:12},c.a.createElement(m.a,null,c.a.createElement(p.a,{className:"mainHeading"},c.a.createElement("strong",null,"Research")),c.a.createElement(f.a,null,c.a.createElement(d.a,null,c.a.createElement(u.a,{md:12},c.a.createElement("div",{className:"search-filter"},c.a.createElement(d.a,null,c.a.createElement(u.a,{lg:3},c.a.createElement(g.a,null,c.a.createElement(h.a,{htmlFor:"employeeId"},"Employee "),c.a.createElement(b.a,{type:"select",placeholder:"Employee Name *",id:"employeeId",name:"employeeId",value:this.state.filterItem.employeeId,onChange:this.changeFilterHandler},c.a.createElement("option",{value:""},"Select Employee"),s.map((function(t,a){return c.a.createElement(w,{key:a,employeeInfo:t,selectedCategory:e.state.filterItem.employeeId})}))))),c.a.createElement(u.a,{lg:3},c.a.createElement(g.a,null,c.a.createElement(h.a,{htmlFor:"categoryId"},"Category"),c.a.createElement(b.a,{type:"select",placeholder:"category Name *",id:"categoryId",name:"categoryId",value:this.state.filterItem.categoryId,onChange:this.changeCategoryHandle},c.a.createElement("option",{value:""},"Select Category"),o.map((function(t,a){return c.a.createElement(C,{key:a,categoryItem:t,selectedCategory:e.state.filterItem.categoryId})}))))),c.a.createElement(u.a,{lg:3},c.a.createElement(g.a,null,c.a.createElement(h.a,{htmlFor:"templateId"},"Template"),c.a.createElement(b.a,{type:"select",placeholder:"Template Name *",id:"templateId",name:"templateId",value:this.state.filterItem.templateId,onChange:this.changeFilterHandler},c.a.createElement("option",{value:""},"Select Template"),r.map((function(t,a){return c.a.createElement(z,{key:a,templateItem:t,selectedCategory:e.state.filterItem.templateId})}))))),c.a.createElement(u.a,{md:3},c.a.createElement(g.a,{className:"filter-button-section"},c.a.createElement(h.a,{htmlFor:"searchButton"},"\xa0"),c.a.createElement(y.a,{className:"search-btn",id:"searchButton",type:"button",onClick:this.filterInspectionList},"Search"),c.a.createElement(y.a,{className:"search-btn",id:"resetButton",type:"button",onClick:this.resetSearchFilter},"Reset")))))),c.a.createElement(u.a,{md:12},c.a.createElement(L,{data:a,deleteInspectionAction:this.handleDeleteInspection,dataTableLoadingStatus:this.state.loading}))))))))}}]),a}(l.Component));function C(e){var t=e.categoryItem;return c.a.createElement("option",{value:t.categoryId},t.categoryName)}function w(e){var t=e.employeeInfo;return c.a.createElement("option",{value:t.authId},t.firstName+" "+t.lastName)}function z(e){var t=e.templateItem;return c.a.createElement("option",{value:t.templateId},t.templateName)}t.default=T},297:function(e,t,a){"use strict";var n=a(0),o=a.n(n);a(299);t.a=function(){return o.a.createElement("div",{className:"loaderSection"},o.a.createElement("div",{className:"spinner-border text-primary",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading...")))}},299:function(e,t,a){},300:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(307);function o(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n.a)(e,t):void 0}}},306:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(300);function o(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(n.a)(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r,s=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return s=e.done,e},e:function(e){i=!0,r=e},f:function(){try{s||null==o.return||o.return()}finally{if(i)throw r}}}}},307:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},308:function(e,t,a){"use strict";var n=a(300);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,o=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(l){o=!0,r=l}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return o}))},314:function(e,t,a){"use strict";var n=a(5),o=a(21),r=a(0),s=a.n(r),i=a(30),l=a.n(i),c=a(290),d=a.n(c),u=a(291),m={tag:u.p,inverse:l.a.bool,color:l.a.string,body:l.a.bool,outline:l.a.bool,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},p=function(e){var t=e.className,a=e.cssModule,r=e.color,i=e.body,l=e.inverse,c=e.outline,m=e.tag,p=e.innerRef,f=Object(o.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),g=Object(u.l)(d()(t,"card",!!l&&"text-white",!!i&&"card-body",!!r&&(c?"border":"bg")+"-"+r),a);return s.a.createElement(m,Object(n.a)({},f,{className:g,ref:p}))};p.propTypes=m,p.defaultProps={tag:"div"},t.a=p},317:function(e,t,a){"use strict";var n=a(5),o=a(21),r=a(0),s=a.n(r),i=a(30),l=a.n(i),c=a(290),d=a.n(c),u=a(291),m={tag:u.p,className:l.a.string,cssModule:l.a.object},p=function(e){var t=e.className,a=e.cssModule,r=e.tag,i=Object(o.a)(e,["className","cssModule","tag"]),l=Object(u.l)(d()(t,"card-header"),a);return s.a.createElement(r,Object(n.a)({},i,{className:l}))};p.propTypes=m,p.defaultProps={tag:"div"},t.a=p},322:function(e,t,a){"use strict";var n=a(5),o=a(21),r=a(0),s=a.n(r),i=a(30),l=a.n(i),c=a(290),d=a.n(c),u=a(291),m={children:l.a.node,row:l.a.bool,check:l.a.bool,inline:l.a.bool,disabled:l.a.bool,tag:u.p,className:l.a.string,cssModule:l.a.object},p=function(e){var t=e.className,a=e.cssModule,r=e.row,i=e.disabled,l=e.check,c=e.inline,m=e.tag,p=Object(o.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),f=Object(u.l)(d()(t,!!r&&"row",l?"form-check":"form-group",!(!l||!c)&&"form-check-inline",!(!l||!i)&&"disabled"),a);return"fieldset"===m&&(p.disabled=i),s.a.createElement(m,Object(n.a)({},p,{className:f}))};p.propTypes=m,p.defaultProps={tag:"div"},t.a=p},323:function(e,t,a){"use strict";var n=a(5),o=a(21),r=a(0),s=a.n(r),i=a(30),l=a.n(i),c=a(290),d=a.n(c),u=a(291),m=l.a.oneOfType([l.a.number,l.a.string]),p=l.a.oneOfType([l.a.string,l.a.number,l.a.shape({size:m,order:m,offset:m})]),f={children:l.a.node,hidden:l.a.bool,check:l.a.bool,size:l.a.string,for:l.a.string,tag:u.p,className:l.a.string,cssModule:l.a.object,xs:p,sm:p,md:p,lg:p,xl:p,widths:l.a.array},g={tag:"label",widths:["xs","sm","md","lg","xl"]},h=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},b=function(e){var t=e.className,a=e.cssModule,r=e.hidden,i=e.widths,l=e.tag,c=e.check,m=e.size,p=e.for,f=Object(o.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),g=[];i.forEach((function(t,n){var o=e[t];if(delete f[t],o||""===o){var r,s=!n;if(Object(u.j)(o)){var i,l=s?"-":"-"+t+"-";r=h(s,t,o.size),g.push(Object(u.l)(d()(((i={})[r]=o.size||""===o.size,i["order"+l+o.order]=o.order||0===o.order,i["offset"+l+o.offset]=o.offset||0===o.offset,i))),a)}else r=h(s,t,o),g.push(r)}}));var b=Object(u.l)(d()(t,!!r&&"sr-only",!!c&&"form-check-label",!!m&&"col-form-label-"+m,g,!!g.length&&"col-form-label"),a);return s.a.createElement(l,Object(n.a)({htmlFor:p},f,{className:b}))};b.propTypes=f,b.defaultProps=g,t.a=b},324:function(e,t,a){"use strict";var n=a(5),o=a(21),r=a(303),s=a(9),i=a(0),l=a.n(i),c=a(30),d=a.n(c),u=a(290),m=a.n(u),p=a(291),f={children:d.a.node,type:d.a.string,size:d.a.string,bsSize:d.a.string,valid:d.a.bool,invalid:d.a.bool,tag:p.p,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),plaintext:d.a.bool,addon:d.a.bool,className:d.a.string,cssModule:d.a.object},g=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(r.a)(a)),a.focus=a.focus.bind(Object(r.a)(a)),a}Object(s.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.focus=function(){this.ref&&this.ref.focus()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,r=e.type,s=e.bsSize,i=e.valid,c=e.invalid,d=e.tag,u=e.addon,f=e.plaintext,g=e.innerRef,h=Object(o.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),b=["radio","checkbox"].indexOf(r)>-1,y=new RegExp("\\D","g"),v=d||("select"===r||"textarea"===r?r:"input"),I="form-control";f?(I+="-plaintext",v=d||"input"):"file"===r?I+="-file":b&&(I=u?null:"form-check-input"),h.size&&y.test(h.size)&&(Object(p.s)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),s=h.size,delete h.size);var E=Object(p.l)(m()(t,c&&"is-invalid",i&&"is-valid",!!s&&"form-control-"+s,I),a);return("input"===v||d&&"function"===typeof d)&&(h.type=r),h.children&&!f&&"select"!==r&&"string"===typeof v&&"select"!==v&&(Object(p.s)('Input with a type of "'+r+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete h.children),l.a.createElement(v,Object(n.a)({},h,{ref:g,className:E}))},t}(l.a.Component);g.propTypes=f,g.defaultProps={type:"text"},t.a=g},330:function(e,t,a){"use strict";var n=a(5),o=a(21),r=a(0),s=a.n(r),i=a(30),l=a.n(i),c=a(290),d=a.n(c),u=a(291),m={tag:u.p,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},p=function(e){var t=e.className,a=e.cssModule,r=e.innerRef,i=e.tag,l=Object(o.a)(e,["className","cssModule","innerRef","tag"]),c=Object(u.l)(d()(t,"card-body"),a);return s.a.createElement(i,Object(n.a)({},l,{className:c,ref:r}))};p.propTypes=m,p.defaultProps={tag:"div"},t.a=p},447:function(e,t,a){}}]);
//# sourceMappingURL=26.ccc3b033.chunk.js.map
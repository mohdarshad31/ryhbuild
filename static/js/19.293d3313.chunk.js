(this.webpackJsonpResearchYourHealth=this.webpackJsonpResearchYourHealth||[]).push([[19],{1121:function(e,a,t){},1187:function(e,a,t){"use strict";t.r(a);var r=t(39),n=t(40),s=t(72),o=t(70),l=t(69),i=t(0),c=t.n(i),d=t(336),m=t(337),u=t(314),f=t(315),p=t(330),h=t(361),g=t(318),b=t(319),v=t(322),y=t(514),E=t(303),N=(t(305),t(47)),j=t(327),O=t(298),F=(t(1121),function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).changeFileHandle=function(e){var a=e.target.files[0];if("image/png"!==a.type&&"image/jpeg"!==a.type&&"image/jpg"!==a.type&&"image/svg"!==a.type)return E.b.error("Images allowed only"),!1;e.preventDefault();var t=new FormData;t.append("profileImage",a),t.append("profileId",n.state.profileId),n.setState({loading:!0},(function(){N.a.putAPIWithAccessToken("profile/picture",t).then((function(e){if(void 0===e.data.data||!e.data.status)return n.setState({loading:!1}),void E.b.error(e.data.message);localStorage.setItem("profilePic",e.data.data.profilePic);var a=n.state.formField;a.profilePic=e.data.data.profilePic,n.setState({loading:!1,formField:a}),E.b.success(e.data.message),n.props.history.push("/admin/profile")})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),n.props.history.push("/login")):n.setState({loading:!1}),E.b.error(e.message)}))}))},n.changeHandler=function(e){var a=e.target.name,t=e.target.value,r=n.state.formField;r[a]=t,n.setState({formField:r},(function(){n.validateField(a,t)}))},n.state={formField:{email:"",first_name:"",last_name:"",phoneNumber:"",address:"",city:"",state:"",country:"",postalCode:"",role:"",profilePic:""},formErrors:{email:"",contact_person:"",role:"",error:""},formValid:!0,profileId:"",loading:!0},n.submitHandler=n.submitHandler.bind(Object(s.a)(n)),n}return Object(n.a)(t,[{key:"componentDidMount",value:function(){this.getProfile()}},{key:"getProfile",value:function(){var e=this;this.setState({loading:!0},(function(){N.a.getAPIWithAccessToken("profile").then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void E.b.error(a.data.message);var t=a.data.data,r={email:t.email,first_name:t.firstName,last_name:t.lastName,phoneNumber:t.phoneNumber,address:t.address,city:t.city,state:t.state,country:t.country,postalCode:t.postalCode,role:t.roleName,profilePic:t.profilePic};e.setState({loading:!1,formField:r,formValid:!0,profileId:t.profileId})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):e.setState({loading:!1}),E.b.error(a.message)}))}))}},{key:"submitHandler",value:function(e){var a=this;e.preventDefault(),e.target.className+=" was-validated",this.setState({loading:!0},(function(){var e=a.state.formField,t={email:e.email,profileId:a.state.profileId,firstName:e.first_name,lastName:e.last_name,phoneNumber:e.phoneNumber,address:e.address,roleName:e.role,city:e.city,state:e.state,country:e.country,postalCode:e.postalCode};N.a.putAPIWithAccessToken("profile",t).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({loading:!1}),void E.b.error(e.data.message);a.setState({loading:!1}),E.b.success(e.data.message)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({loading:!1}),E.b.error(e.message)}))}))}},{key:"validateField",value:function(e,a){var t=this.state.formErrors;switch(t.error="",e){case"first_name":t.contact_person=""!==a?"":" is required"}this.setState({formErrors:t},this.validateForm)}},{key:"validateForm",value:function(){var e=this.state.formErrors,a=this.state.formField;this.setState({formValid:""===e.contact_person&&""!==a.first_name})}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"render",value:function(){var e="",a="";return this.state.loading&&(e=c.a.createElement(O.a,null)),""!==this.state.formField.profilePic&&(a=c.a.createElement("div",{className:"prevProfileImageArea"},c.a.createElement("img",{src:this.state.formField.profilePic,alt:"Profile",className:"prevProfileImage"}))),c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(d.a,null,c.a.createElement(m.a,{lg:12},c.a.createElement(u.a,null,c.a.createElement(f.a,{className:"mainHeading"},c.a.createElement("strong",null,"Profile Info")),c.a.createElement(p.a,null,c.a.createElement(E.a,null),e,c.a.createElement(h.a,{onSubmit:this.submitHandler,noValidate:!0},c.a.createElement(d.a,null,c.a.createElement(j.a,{formErrors:this.state.formErrors}),c.a.createElement(m.a,{md:6},c.a.createElement(g.a,null,c.a.createElement(b.a,{htmlFor:"first_name"},"Contact Person"),c.a.createElement(v.a,{type:"text",placeholder:"Contact Person *",id:"first_name",name:"first_name",value:this.state.formField.first_name,onChange:this.changeHandler,required:!0}))),c.a.createElement(m.a,{md:6},c.a.createElement(g.a,null,c.a.createElement(b.a,{htmlFor:"last_name"},"Last Name"),c.a.createElement(v.a,{type:"text",placeholder:"Last Name ",id:"last_name",name:"last_name",value:this.state.formField.last_name,onChange:this.changeHandler}))),c.a.createElement(m.a,{md:6},c.a.createElement(g.a,null,c.a.createElement(b.a,{htmlFor:"email"},"Email"),c.a.createElement(v.a,{type:"text",placeholder:"Email *",readOnly:"true",id:"email",name:"email",value:this.state.formField.email,onChange:this.changeHandler,required:!0}))),c.a.createElement(m.a,{md:6},c.a.createElement(g.a,null,c.a.createElement(b.a,{htmlFor:"phoneNumber"},"Contact Number"),c.a.createElement(v.a,{type:"text",placeholder:"Contact Number ",id:"phoneNumber",name:"phoneNumber",value:this.state.formField.phoneNumber,onChange:this.changeHandler}))),c.a.createElement(m.a,{md:6},c.a.createElement(g.a,null,c.a.createElement(b.a,{htmlFor:"address"},"Address"),c.a.createElement(v.a,{type:"text",placeholder:"Address",id:"address",name:"address",value:this.state.formField.address,onChange:this.changeHandler}))),c.a.createElement(m.a,{md:6},c.a.createElement(g.a,null,c.a.createElement(b.a,{htmlFor:"city"},"City"),c.a.createElement(v.a,{type:"text",placeholder:"City",id:"city",name:"city",value:this.state.formField.city,onChange:this.changeHandler}))),c.a.createElement(m.a,{md:6},c.a.createElement(g.a,null,c.a.createElement(b.a,{htmlFor:"state"},"State"),c.a.createElement(v.a,{type:"text",placeholder:"State",id:"state",name:"state",value:this.state.formField.state,onChange:this.changeHandler}))),c.a.createElement(m.a,{md:6},c.a.createElement(g.a,null,c.a.createElement(b.a,{htmlFor:"country"},"Country"),c.a.createElement(v.a,{type:"text",placeholder:"Country",id:"country",name:"country",value:this.state.formField.country,onChange:this.changeHandler}))),c.a.createElement(m.a,{md:6},c.a.createElement(g.a,null,c.a.createElement(b.a,{htmlFor:"postalCode"},"Postal Code"),c.a.createElement(v.a,{type:"text",placeholder:"Postal Code",id:"postalCode",name:"postalCode",value:this.state.formField.postalCode,onChange:this.changeHandler}))),c.a.createElement(m.a,{md:6},c.a.createElement(g.a,null,c.a.createElement(b.a,{htmlFor:"profileImage"},"Profile Image"),c.a.createElement(v.a,{name:"profileImage",type:"file",accept:"image/*",id:"profileImage",onChange:this.changeFileHandle}),a)),c.a.createElement(y.a,{color:"primary",disabled:!this.state.formValid,type:"submit"},"Update"))))))))}}]),t}(i.Component));a.default=F},298:function(e,a,t){"use strict";var r=t(0),n=t.n(r);t(299);a.a=function(){return n.a.createElement("div",{className:"loaderSection"},n.a.createElement("div",{className:"spinner-border text-primary",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading...")))}},299:function(e,a,t){},314:function(e,a,t){"use strict";var r=t(5),n=t(21),s=t(0),o=t.n(s),l=t(30),i=t.n(l),c=t(290),d=t.n(c),m=t(291),u={tag:m.p,inverse:i.a.bool,color:i.a.string,body:i.a.bool,outline:i.a.bool,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},f=function(e){var a=e.className,t=e.cssModule,s=e.color,l=e.body,i=e.inverse,c=e.outline,u=e.tag,f=e.innerRef,p=Object(n.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),h=Object(m.l)(d()(a,"card",!!i&&"text-white",!!l&&"card-body",!!s&&(c?"border":"bg")+"-"+s),t);return o.a.createElement(u,Object(r.a)({},p,{className:h,ref:f}))};f.propTypes=u,f.defaultProps={tag:"div"},a.a=f},315:function(e,a,t){"use strict";var r=t(5),n=t(21),s=t(0),o=t.n(s),l=t(30),i=t.n(l),c=t(290),d=t.n(c),m=t(291),u={tag:m.p,className:i.a.string,cssModule:i.a.object},f=function(e){var a=e.className,t=e.cssModule,s=e.tag,l=Object(n.a)(e,["className","cssModule","tag"]),i=Object(m.l)(d()(a,"card-header"),t);return o.a.createElement(s,Object(r.a)({},l,{className:i}))};f.propTypes=u,f.defaultProps={tag:"div"},a.a=f},318:function(e,a,t){"use strict";var r=t(5),n=t(21),s=t(0),o=t.n(s),l=t(30),i=t.n(l),c=t(290),d=t.n(c),m=t(291),u={children:i.a.node,row:i.a.bool,check:i.a.bool,inline:i.a.bool,disabled:i.a.bool,tag:m.p,className:i.a.string,cssModule:i.a.object},f=function(e){var a=e.className,t=e.cssModule,s=e.row,l=e.disabled,i=e.check,c=e.inline,u=e.tag,f=Object(n.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),p=Object(m.l)(d()(a,!!s&&"row",i?"form-check":"form-group",!(!i||!c)&&"form-check-inline",!(!i||!l)&&"disabled"),t);return"fieldset"===u&&(f.disabled=l),o.a.createElement(u,Object(r.a)({},f,{className:p}))};f.propTypes=u,f.defaultProps={tag:"div"},a.a=f},319:function(e,a,t){"use strict";var r=t(5),n=t(21),s=t(0),o=t.n(s),l=t(30),i=t.n(l),c=t(290),d=t.n(c),m=t(291),u=i.a.oneOfType([i.a.number,i.a.string]),f=i.a.oneOfType([i.a.string,i.a.number,i.a.shape({size:u,order:u,offset:u})]),p={children:i.a.node,hidden:i.a.bool,check:i.a.bool,size:i.a.string,for:i.a.string,tag:m.p,className:i.a.string,cssModule:i.a.object,xs:f,sm:f,md:f,lg:f,xl:f,widths:i.a.array},h={tag:"label",widths:["xs","sm","md","lg","xl"]},g=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},b=function(e){var a=e.className,t=e.cssModule,s=e.hidden,l=e.widths,i=e.tag,c=e.check,u=e.size,f=e.for,p=Object(n.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),h=[];l.forEach((function(a,r){var n=e[a];if(delete p[a],n||""===n){var s,o=!r;if(Object(m.j)(n)){var l,i=o?"-":"-"+a+"-";s=g(o,a,n.size),h.push(Object(m.l)(d()(((l={})[s]=n.size||""===n.size,l["order"+i+n.order]=n.order||0===n.order,l["offset"+i+n.offset]=n.offset||0===n.offset,l))),t)}else s=g(o,a,n),h.push(s)}}));var b=Object(m.l)(d()(a,!!s&&"sr-only",!!c&&"form-check-label",!!u&&"col-form-label-"+u,h,!!h.length&&"col-form-label"),t);return o.a.createElement(i,Object(r.a)({htmlFor:f},p,{className:b}))};b.propTypes=p,b.defaultProps=h,a.a=b},322:function(e,a,t){"use strict";var r=t(5),n=t(21),s=t(301),o=t(9),l=t(0),i=t.n(l),c=t(30),d=t.n(c),m=t(290),u=t.n(m),f=t(291),p={children:d.a.node,type:d.a.string,size:d.a.string,bsSize:d.a.string,valid:d.a.bool,invalid:d.a.bool,tag:f.p,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),plaintext:d.a.bool,addon:d.a.bool,className:d.a.string,cssModule:d.a.object},h=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(s.a)(t)),t.focus=t.focus.bind(Object(s.a)(t)),t}Object(o.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.focus=function(){this.ref&&this.ref.focus()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,s=e.type,o=e.bsSize,l=e.valid,c=e.invalid,d=e.tag,m=e.addon,p=e.plaintext,h=e.innerRef,g=Object(n.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),b=["radio","checkbox"].indexOf(s)>-1,v=new RegExp("\\D","g"),y=d||("select"===s||"textarea"===s?s:"input"),E="form-control";p?(E+="-plaintext",y=d||"input"):"file"===s?E+="-file":b&&(E=m?null:"form-check-input"),g.size&&v.test(g.size)&&(Object(f.s)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),o=g.size,delete g.size);var N=Object(f.l)(u()(a,c&&"is-invalid",l&&"is-valid",!!o&&"form-control-"+o,E),t);return("input"===y||d&&"function"===typeof d)&&(g.type=s),g.children&&!p&&"select"!==s&&"string"===typeof y&&"select"!==y&&(Object(f.s)('Input with a type of "'+s+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete g.children),i.a.createElement(y,Object(r.a)({},g,{ref:h,className:N}))},a}(i.a.Component);h.propTypes=p,h.defaultProps={type:"text"},a.a=h},327:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var r=t(0),n=t.n(r),s=(t(328),function(e){var a=e.formErrors;return n.a.createElement("div",{className:"col-md-12 col-lg-12"},n.a.createElement("div",{className:"formErrors"},Object.keys(a).map((function(e,t){if(a[e].length>0){var r=e.replace("_"," ");return n.a.createElement("p",{key:t},r," ",a[e])}return""}))))})},328:function(e,a,t){},330:function(e,a,t){"use strict";var r=t(5),n=t(21),s=t(0),o=t.n(s),l=t(30),i=t.n(l),c=t(290),d=t.n(c),m=t(291),u={tag:m.p,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},f=function(e){var a=e.className,t=e.cssModule,s=e.innerRef,l=e.tag,i=Object(n.a)(e,["className","cssModule","innerRef","tag"]),c=Object(m.l)(d()(a,"card-body"),t);return o.a.createElement(l,Object(r.a)({},i,{className:c,ref:s}))};f.propTypes=u,f.defaultProps={tag:"div"},a.a=f},336:function(e,a,t){"use strict";var r=t(5),n=t(21),s=t(0),o=t.n(s),l=t(30),i=t.n(l),c=t(290),d=t.n(c),m=t(291),u=i.a.oneOfType([i.a.number,i.a.string]),f={tag:m.p,noGutters:i.a.bool,className:i.a.string,cssModule:i.a.object,form:i.a.bool,xs:u,sm:u,md:u,lg:u,xl:u},p={tag:"div",widths:["xs","sm","md","lg","xl"]},h=function(e){var a=e.className,t=e.cssModule,s=e.noGutters,l=e.tag,i=e.form,c=e.widths,u=Object(n.a)(e,["className","cssModule","noGutters","tag","form","widths"]),f=[];c.forEach((function(a,t){var r=e[a];if(delete u[a],r){var n=!t;f.push(n?"row-cols-"+r:"row-cols-"+a+"-"+r)}}));var p=Object(m.l)(d()(a,s?"no-gutters":null,i?"form-row":"row",f),t);return o.a.createElement(l,Object(r.a)({},u,{className:p}))};h.propTypes=f,h.defaultProps=p,a.a=h},337:function(e,a,t){"use strict";var r=t(5),n=t(21),s=t(0),o=t.n(s),l=t(30),i=t.n(l),c=t(290),d=t.n(c),m=t(291),u=i.a.oneOfType([i.a.number,i.a.string]),f=i.a.oneOfType([i.a.bool,i.a.number,i.a.string,i.a.shape({size:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]),order:u,offset:u})]),p={tag:m.p,xs:f,sm:f,md:f,lg:f,xl:f,className:i.a.string,cssModule:i.a.object,widths:i.a.array},h={tag:"div",widths:["xs","sm","md","lg","xl"]},g=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},b=function(e){var a=e.className,t=e.cssModule,s=e.widths,l=e.tag,i=Object(n.a)(e,["className","cssModule","widths","tag"]),c=[];s.forEach((function(a,r){var n=e[a];if(delete i[a],n||""===n){var s=!r;if(Object(m.j)(n)){var o,l=s?"-":"-"+a+"-",u=g(s,a,n.size);c.push(Object(m.l)(d()(((o={})[u]=n.size||""===n.size,o["order"+l+n.order]=n.order||0===n.order,o["offset"+l+n.offset]=n.offset||0===n.offset,o)),t))}else{var f=g(s,a,n);c.push(f)}}})),c.length||c.push("col");var u=Object(m.l)(d()(a,c),t);return o.a.createElement(l,Object(r.a)({},i,{className:u}))};b.propTypes=p,b.defaultProps=h,a.a=b},361:function(e,a,t){"use strict";var r=t(5),n=t(21),s=t(301),o=t(9),l=t(0),i=t.n(l),c=t(30),d=t.n(c),m=t(290),u=t.n(m),f=t(291),p={children:d.a.node,inline:d.a.bool,tag:f.p,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),className:d.a.string,cssModule:d.a.object},h=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(s.a)(t)),t.submit=t.submit.bind(Object(s.a)(t)),t}Object(o.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.submit=function(){this.ref&&this.ref.submit()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,s=e.inline,o=e.tag,l=e.innerRef,c=Object(n.a)(e,["className","cssModule","inline","tag","innerRef"]),d=Object(f.l)(u()(a,!!s&&"form-inline"),t);return i.a.createElement(o,Object(r.a)({},c,{ref:l,className:d}))},a}(l.Component);h.propTypes=p,h.defaultProps={tag:"form"},a.a=h}}]);
//# sourceMappingURL=19.293d3313.chunk.js.map